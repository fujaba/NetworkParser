<html>
  <head>
    <link rel="stylesheet" type="text/css" href="diagramstyle.css"/>
    <script src="highlight.pack.js"></script>
    <script src="highlightjs-line-numbers.min.js"></script>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script language="Javascript">hljs.initHighlightingOnLoad();
hljs.initLineNumbersOnLoad();</script>
    <title>testSerialization</title>
  </head>
  <body>
    <h1>testSerialization</h1>
    <pre>
      <code class="java" data-lang="java">	public void testSerialization() {
		// tag::serialization[]
		Story story= new Story();
		story.addSourceCode(SimpleUsage.class);
		// Model
		House house=new House(); &lt;i class="conum" data-value="1">&lt;/i>
		house.setFloor(4);
		house.setName("University");

		// Serialization
		IdMap map=new IdMap().withCreator(new HouseCreator()); &lt;i class="conum" data-value="2">&lt;/i>
		map.withTimeStamp(1);
		JsonObject json = map.toJsonObject(house);
		String string=json.toString(2); &lt;i class="conum" data-value="4">&lt;/i>

		// Deserialization
		IdMap decodeMap=new IdMap().withCreator(new HouseCreator()); &lt;i class="conum" data-value="3">&lt;/i>
		House newHouse = (House) decodeMap.decode(string);

		newHouse.setFloor(42);
		story.finish();</code>
      <div class="title">Code: <a href="../src/test/java/de/uniks/networkparser/test/SimpleUsage.java">Serialization</a></div>
    </pre>
    <table>
      <tr>
        <td><i class="conum" data-value="1"></i></td>
        <td>Custom Model</td>
      </tr>
      <tr>
        <td><i class="conum" data-value="2"></i></td>
        <td>Serialization</td>
      </tr>
      <tr>
        <td><i class="conum" data-value="3"></i></td>
        <td>Deserialization</td>
      </tr>
      <tr>
        <td><i class="conum" data-value="4"></i></td>
        <td>
          <pre>
            <code class="json" data-lang="json">{
  "class":"de.uniks.networkparser.test.model.House",
  "id":"H1",
  "prop":{
    "name":"University",
    "floor":4
  }
}</code>
          </pre>
        </td>
      </tr>
    </table>
  </body></html>