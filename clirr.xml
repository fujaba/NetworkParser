<project default="checkbinarycompatibility" name="Clirr for NetworkParser" xmlns:cs="antlib:com.puppycrawl.tools.checkstyle">
	<import file="build.xml" as="build"/>

<!-- depends="build.buildJars" -->
<target name="checkbinarycompatibility" >
	<!-- buildtools.classpath should either contain
		clirr-core-uber.jar or alternatively
		clirr-core.jar and the libraries it depends on -->
	<path id="dependency.path">
		<fileset dir="lib/clirr-0.6/" includes="*.jar" />
	</path>
	<taskdef classpathref="dependency.path" resource="clirrtask.properties"/>
	<property name="jar.baseline" value="${ant.project.name}-1.0.jar"/>

<echo>${jar.baseline}</echo>
<echo>${jar.buildresult}</echo>
	<clirr>
		<origfiles dir="build" includes="networkparser-1.0.jar"/>
		<newfiles dir="build" includes="networkparser.jar"/>
		<formatter type="xml" outfile="build/clirr.xml" />
		<!-- TODO: example for 3rd party classpath -->
	</clirr>
</target>
</project>