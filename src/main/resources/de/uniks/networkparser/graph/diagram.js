var DiagramJS=function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(31),n=i(1),o=function(){function t(){}return t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.createShape=function(t){var e=t.xmlns||"http://www.w3.org/2000/svg",i=document.createElementNS(e,t.tag);for(var r in t)"tag"!==r&&i.setAttribute(r,t[r]);return i},t.toPascalCase=function(t){return t=t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},t.isSVG=function(t){var e,i=["svg","path","polygon","polyline","line","title","rect","filter","feGaussianBlur","feOffset","feBlend","linearGradient","stop","text","symbol","textPath","defs","fegaussianblur","feoffset","feblend","circle","ellipse","g"];for(e=0;e<i.length;e+=1)if(i[e]===t)return!0;return!1},t.create=function(t){var e,i,r,n,o,s;document.createElementNS&&(this.isSVG(t.tag)||t.xmlns)?(r=t.xmlns?t.xmlns:"http://www.w3.org/2000/svg","img"===t.tag&&r?(i=document.createElementNS(r,"image"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttributeNS("http://www.w3.org/1999/xlink","href",t.src)):i=document.createElementNS(r,t.tag)):i=document.createElement(t.tag),o=t.tag.toLowerCase();for(n in t)if(t.hasOwnProperty(n)&&(s=n.toLowerCase(),null!==t[n]&&"tag"!==s&&"$"!==s.charAt(0)&&"$graphModel"!==s))if("#"!==s.charAt(0))if("rotate"!==s)if("value"!==s)if(0!==s.indexOf("on"))if(s.indexOf("-")>=0)i.style[n]=t[n];else if("style"===s&&"object"==typeof t[n])for(e in t[n])t[n].hasOwnProperty(e)&&t[n][e]&&("transform"===e?(i.style.transform=t[n][e],i.style.msTransform=i.style.MozTransform=i.style.WebkitTransform=i.style.OTransform=t[n][e]):i.style[e]=t[n][e]);else i.setAttribute(n,t[n]);else this.bind(i,s.substring(2),t[n]);else{if(!t[n])continue;"input"!==o?"text"===o?i.appendChild(document.createTextNode(t[n])):i.innerHTML=t[n]:i[n]=t[n]}else i.setAttribute("transform","rotate("+t[n]+","+t.$graphModel.x+","+t.$graphModel.y+")");else i[s.substring(1)]=t[n];return t.$parent&&t.$parent.appendChild(i),t.$graphModel&&(i.$graphModel=t.$graphModel),i},t.setSize=function(e,i,r){var n;n=t.getValue(i),e.setAttribute("width",n),e.style.width=Math.ceil(n),n=t.getValue(r),e.setAttribute("height",n),e.style.height=Math.ceil(n)},t.setAttributeSize=function(e,i,r){var n;n=t.getValue(i),e.setAttributeNS(null,"width",n),n=t.getValue(r),e.setAttributeNS(null,"height",n)},t.setStyleSize=function(e,i,r){var n;n=t.getValue(i),e.style.width=Math.ceil(n),n=t.getValue(r),e.style.height=Math.ceil(n)},t.setPos=function(t,e,i){t.x&&t.x.baseVal?(t.style.left=e+"px",t.style.top=i+"px"):(t.x=e,t.y=i)},t.getValue=function(t){return parseInt(("0"+t).replace("px",""),10)},t.isIE=function(){return navigator.userAgent.toLowerCase().indexOf(".net")>-1},t.isEdge=function(){return navigator.userAgent.toLowerCase().indexOf("edge")>-1},t.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},t.isSafari=function(){var e=t.isEdge();return navigator.userAgent.toLowerCase().indexOf("safari")>-1&&!e},t.isOpera=function(){return navigator.userAgent.toLowerCase().indexOf("opera")>-1},t.isChrome=function(){var e=t.isEdge(),i=t.isSafari();return navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&!e&&i},t.getEventX=function(e){return t.isIE()||t.isEdge()?e.offsetX:e.layerX},t.getEventY=function(e){return t.isIE()||t.isEdge()?e.offsetY:e.layerY},t.getNumber=function(t){return parseInt((t||"0").replace("px",""),10)},t.getStyle=function(e){var i,n,o,s,a,l,h=document.createElement("div");document.body.appendChild(h),l=new r.CSS(e),a=new r.CSS(e,h).css,n=window.getComputedStyle(h,null),h.className=e,s=new r.CSS(e,h).css,o=t.getNumber(n.getPropertyValue("border-width"));for(i in s)s.hasOwnProperty(i)&&("width"===i||"height"===i?0!==t.getNumber(s[i])&&t.getNumber(s[i])+2*o!==t.getNumber(a[i])&&l.add(i,s[i]):s[i]!==a[i]&&l.add(i,s[i]));return document.body.removeChild(h),l},t.sizeOf=function(e,i){var r,n,o;if(e)return i&&(r=i.$owner.$view,o=!1),r||(o=!0,r=t.createShape({tag:"svg",id:"root",width:200,height:200}),document.body.appendChild(r)),"svg"===r.tagName?"string"==typeof e&&(e=t.create({tag:"text",$font:!0,value:e}),e.setAttribute("width","5px")):"string"==typeof e&&(e=document.createTextNode(e)),r.appendChild(e),n=e.getBoundingClientRect(),r.removeChild(e),o&&document.body.removeChild(r),n},t.getColor=function(t,e){if(t){if("create"===t.toLowerCase())return"#008000";if("nac"===t.toLowerCase())return"#FE3E3E";if(0===t.indexOf("#"))return t}return e||"#000"},t.utf8$to$b64=function(t){return window.btoa(encodeURIComponent(t))},t.showSVG=function(e){var i=t.create({tag:"svg",style:{left:e.getPos().x,top:e.getPos().y,position:"absolute"}}),r=e.getSVG();r&&i.appendChild(r),t.setSize(i,e.getSize().x,e.getSize().y),document.body.appendChild(i)},t.toJson=function(e){var i={};return t.copy(i,e,!1,!1)},t.initControl=function(t,e,i,r,n){"function"==typeof e.init&&e.init(t,i,r),"function"==typeof e.load&&e.load(n)},t.copy=function(e,i,r,n){if(i){var o=void 0;for(o in i)if(i.hasOwnProperty(o)&&"function"!=typeof i[o])if("$"!==o.charAt(0))if("object"==typeof i[o]){if(n){e[o]=i[o];continue}e[o]||(i[o]instanceof Array?e[o]=[]:e[o]={}),t.copy(e[o],i[o],r,!1)}else{if(""===i[o])continue;e[o]=i[o]}else r&&(e[o]=i[o])}return e},t.xmlstringify=function(t){return t=t.replace("<","&lt;"),t=t.replace(">","&gt;")},t.toXML=function(e,i,r,n){var o;if(e||(o=i.constructor.name,n=document.implementation.createDocument(null,o,null),e=n.childNodes[0]),i){var s=void 0;for(s in i)if(i.hasOwnProperty(s)&&"function"!=typeof i[s])if("$"!==s.charAt(0))if("object"==typeof i[s])if(e.getAttribute(s))t.toXML(e.getAttribute(s),i[s],r,n);else if(i[s]instanceof Array)for(var a in i[s]){o=i[s][a].constructor.name;var l=n.createElement(o);e.appendChild(l),t.toXML(l,i[s][a],r,n)}else{o=i[s].constructor.name;var l=n.createElement(o);e.appendChild(l),t.toXML(l,i[s],r,n)}else{if(""===i[s])continue;e.setAttribute(s,i[s])}else r&&(e[s]=i[s])}return e},t.Range=function(t,e,i,r){e.x=Math.max(e.x,i),e.y=Math.max(e.y,r),t.x=Math.min(t.x,i),t.y=Math.min(t.y,r)},t.getPosition=function(e,i,r,o){var s,a,l,h,d=[],p=[],c=999999999,u=r.getPos(),f=r.getSize();for(a=[n.Point.LEFT,n.Point.RIGHT],h=0;h<2;h+=1)s=this.getLRPosition(e,i,r,a[h]),s.y>=u.y&&s.y<=u.y+f.y+1&&(s.y+=15*r["$"+a[h]],s.y>u.y+f.y&&(s=t.getUDPosition(e,i,r,n.Point.DOWN,15)),d.push(s),p.push(Math.sqrt((o.x-s.x)*(o.x-s.x)+(o.y-s.y)*(o.y-s.y))));for(a=[n.Point.UP,n.Point.DOWN],h=0;h<2;h+=1)s=t.getUDPosition(e,i,r,a[h]),s.x>=u.x&&s.x<=u.x+f.x+1&&(s.x+=15*r["$"+a[h]],s.x>u.x+f.x&&(s=this.getLRPosition(e,i,r,n.Point.RIGHT,15)),d.push(s),p.push(Math.sqrt((o.x-s.x)*(o.x-s.x)+(o.y-s.y)*(o.y-s.y))));for(h=0;h<d.length;h+=1)p[h]<c&&(c=p[h],l=d[h]);return l},t.getUDPosition=function(t,e,i,r,o){var s,a=i.getPos(),l=i.getSize(),h=a.y;return r===n.Point.DOWN&&(h+=l.y),s=(h-e)/t,o&&(s+=i["$"+r]*o,s<a.x?s=a.x:s>a.x+l.x&&(s=a.x+l.x)),new n.Point(s,h,r)},t.getLRPosition=function(t,e,i,r,o){var s,a=i.getPos(),l=i.getSize(),h=a.x;return r===n.Point.RIGHT&&(h+=l.x),s=t*h+e,o&&(s+=i["$"+r]*o,s<a.y?s=a.y:s>a.y+l.y&&(s=a.y+l.y)),new n.Point(h,s,r)},t.hasClass=function(t,e){return t.getAttribute("class").indexOf(e)>0},t.addClass=function(e,i){if(!t.hasClass(e,i)){var r=e.getAttribute("class");e.setAttributeNS(null,"class",r+" "+i)}},t.removeClass=function(e,i){if(t.hasClass(e,i)){var r=new RegExp("(\\s|^)"+i+"(\\s|$)"),n=e.getAttribute("class");e.setAttributeNS(null,"class",n.replace(r," ").trim())}},t.startsWith=function(t,e){return String.prototype.startsWith?t.startsWith(e):0===t.indexOf(e)},t.endsWith=function(t,e){if(!String.prototype.endsWith){var i=t.lastIndexOf(e);return-1!==i&&i===t.length-1}return t.endsWith(e)},t.includes=function(t,e){if(!String.prototype.includes){return t.indexOf(e)>-1}return t.includes(e)},t.isParentOfChild=function(e,i){if(!e||!i)return!1;if(t.isIE()){for(var r=e.childNodes,n=0;n<r.length;n++){if(r[n]===i)return!0}return!1}return e.contains(i)},t.createCustomEvent=function(t,e){var i;return"function"!=typeof window.CustomEvent?(e=e||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent"),i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i):i=new CustomEvent(t)},t.saveToLocalStorage=function(e){if(!this.isAutoSave)return!1;if(t.isLocalStorageSupported()){if(e.$isLoading)return!1;var i=t.toJson(e),r=JSON.stringify(i,null,"\t");return localStorage.setItem("diagram",r),!0}return!1},t.getDiagramFromLocalStorage=function(){if(t.isLocalStorageSupported())return localStorage.getItem("diagram")},t.isLocalStorageSupported=function(){return!this.isEdge()&&void 0!==localStorage},t}();e.Util=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.$isDraggable=!0,e.$pos=new a,e.$size=new a,e}return r(e,t),e.prototype.getPos=function(){return this.$pos},e.prototype.getSize=function(){return this.$size},e.prototype.getCenter=function(){var t=this.getPos(),e=this.getSize();return new a(t.x+e.x/2,t.y+e.y/2)},e.prototype.getCenterPosition=function(t){var e=this.getPos(),i=this.getSize(),r=this["$"+t],n=this.getCenter();return t===a.DOWN?new a(Math.min(n.x+r,n.x),e.y+i.y,a.DOWN):t===a.UP?new a(Math.min(n.x+r,n.x),e.y,a.UP):t===a.LEFT?new a(e.x,Math.min(n.y+r,e.y+i.y),a.LEFT):t===a.RIGHT?new a(e.x+i.x,Math.min(n.y+r,e.y+i.y),a.RIGHT):new a},e.prototype.getSVG=function(){return null},e.prototype.getCanvas=function(){return null},e.prototype.getEvents=function(){return null},e.prototype.getAlreadyDisplayingSVG=function(){return document.getElementById(this.id)||this.getSVG()},e.prototype.load=function(t){},e.prototype.withPos=function(t,e){return t&&e?this.$pos=new a(t,e):(void 0!==t&&null!==t&&(this.$pos.x=t),void 0!==e&&null!==e&&(this.$pos.y=e)),this},e.prototype.withSize=function(t,e){return t&&e?this.$size=new a(t,e):(void 0!==t&&(this.$size.x=t),void 0!==e&&(this.$size.y=e)),this},e.prototype.getShowed=function(){return t.prototype.getShowed.call(this)},e.prototype.createShape=function(t){return n.Util.createShape(t)},e}(o.Control);e.DiagramElement=s;var a=function(){function t(t,e,i){this.x=0,this.y=0,this.x=Math.ceil(t||0),this.y=Math.ceil(e||0),i&&(this.pos=i)}return t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.getPosition=function(){return this.pos?this.pos:""},t.prototype.addNum=function(t,e){return this.x+=t,this.y+=e,this},t.prototype.sum=function(e){var i=new t(this.x,this.y);return i.add(e),i},t.prototype.center=function(t,e){var i=0;t&&(this.x+=t.x,this.y+=t.y,i++),e&&(this.x+=e.x,this.y+=e.y,i++),i>0&&(this.x=this.x/i,this.y=this.y/i)},t.prototype.isEmpty=function(){return this.x<1&&this.y<1},t.prototype.size=function(t,e){var i=0,r=0,n=0,o=0;t&&(i=t.x,n=t.y),e&&(r=e.x,o=e.y),this.x=i>r?i-r:r-i,this.y=n>o?n-o:o-n},t.UP="UP",t.LEFT="LEFT",t.RIGHT="RIGHT",t.DOWN="DOWN",t}();e.Point=a;var l=function(t){function e(e){var i=t.call(this)||this;return i.lineType=e,i}return r(e,t),e.prototype.getTyp=function(){return"SVG"},e.prototype.getPos=function(){var t=new a;return t.center(this.source,this.target),t},e.prototype.getSize=function(){var t=new a;return t.size(this.source,this.target),t},e.prototype.withColor=function(t){return this.color=t,this},e.prototype.withSize=function(t,e){return this},e.prototype.withPath=function(t,i,r){var n,o="M"+t[0].x+" "+t[0].y;for(this.lineType=e.FORMAT.PATH,n=1;n<t.length;n+=1)o=o+"L "+t[n].x+" "+t[n].y;return i?(o+=" Z",this.target=t[0]):this.target=t[t.length-1],this.path=o,r instanceof Number&&(this.angle=r),this},e.prototype.getSVG=function(){if("PATH"===this.lineType)return n.Util.create({tag:"path",d:this.path,fill:this.color,stroke:"#000","stroke-width":"1px"});var t=n.Util.create({tag:"line",x1:this.source.x,y1:this.source.y,x2:this.target.x,y2:this.target.y,stroke:n.Util.getColor(this.color)});return this.lineType&&"dotted"===this.lineType.toLowerCase()&&(t.setAttribute("stroke-miterlimit","4"),t.setAttribute("stroke-dasharray","1,1")),t},e.FORMAT={SOLID:"SOLID",DOTTED:"DOTTED",PATH:"PATH"},e}(s);e.Line=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),n=i(32),o=function(){function t(){this.$viewData=this.initViewDataProperties(this.$viewData)}return t.prototype.initViewDataProperties=function(t){var e=new r.default;if(t){t.removeListener(this);for(var i=t.getKeys(),n=0;n<i.length;n++){var o=i[n];if(this.$view){if(null===this.$view[o])continue;e.setValue(o,this.$view[o])}else e.setValue(o,null)}}return e.addListener(this),e},t.prototype.setView=function(t){var e=null;return this.$view&&(e=this.$view,this.$viewListener&&e.removeEventListener("change",this.$viewListener)),this.$view=t,this.$viewListener&&t.addEventListener("change",this.$viewListener),this.$viewData=this.initViewDataProperties(this.$viewData),t},t.prototype.init=function(t,e,i){return this.$owner||(this.$owner=t),this.id||(this.id=i),this.property||(this.property=this.generateID(e,i)),this},t.prototype.createEventListener=function(){return new n.default},t.prototype.getRoot=function(){return this.$owner?this.$owner.getRoot():this},t.prototype.initControl=function(t){var e=this;if(null!==this.$view)if(t.hasOwnProperty("prop"))for(var i in t.prop){var r=this.$viewData.getValue(i);this.$view&&this.updateElement(i,r,t.prop[i])}else{var n=t.hasOwnProperty("rem"),o=[];if(t.hasOwnProperty("upd"))for(var i in t.upd){var r=void 0,s=t.upd[i],a=void 0;if((!n||!t.rem.hasOwnProperty(i)||(r=t.rem[i],this.$model&&this.$model.getValue(i)==r&&(a=this.$model),delete t.rem[i],null!==a))&&(a?n||a===this.$model&&(r=this.$model.getValue(i)):this.$model&&(r=this.$model.getValue(i),a=this.$model),s!=r)){var l=this.$viewData.getValue(i);a==this.$viewData?this.$view&&this.updateElement(i,l,s):this.updateElement(i,l,s),this.getRoot().setValue(a,i,s,r)}}if(n)for(var i in t.rem)if(!o.hasOwnProperty(i)){var r=void 0;this.updateElement(i,null,null),this.$model}this.property&&(this.$view.onchange=function(t){e.controlChanged(t)})}},t.prototype.getItem=function(t){return null},t.prototype.hasItem=function(t){return!1},t.prototype.getItems=function(){return new Object},t.prototype.setValue=function(t,e,i,r){return!1},t.prototype.propertyChange=function(t,e,i,r){i!==r&&i!==this.$viewData.getValue(e)&&(this.$viewData.setValue(e,r),this.$viewData&&this.$viewData.setValue(e,r),this.$model&&this.$model.setValue(e,r),this.updateElement(e,i,r))},t.prototype.controlChanged=function(t){if(this.$view instanceof HTMLInputElement!=!1){this.$view.checkValidity()}},t.prototype.updateElement=function(t,e,i){this.$view&&this.$view.hasAttribute(t)&&this.$view.setAttribute(t,i)},t.prototype.getId=function(){return this.id},t.prototype.load=function(t,e){},t.prototype.addItem=function(t,e){e&&(this.property&&!e.hasProperty(this.property)||(e.addListener(this,this.property),this.$model=e))},t.prototype.appendChild=function(t){this.$view?this.$view.appendChild(t.$view):document.getElementsByTagName("body")[0].appendChild(t.$view)},t.prototype.removeChild=function(t){this.$view?this.$view.removeChild(t.$view):document.getElementsByTagName("body")[0].removeChild(t.$view)},t.prototype.setProperty=function(t){if(this.property){var e=t.split(".")[0],i=null;this.$owner.hasItem(e)&&(i=this.$owner.getItem(e)),this.$model&&this.$model.removeListener(this,this.lastProperty),this.property=t,i&&(i.addListener(this,this.lastProperty),this.$model=i,this.updateElement(this.lastProperty,this.$viewData.getValue(this.lastProperty),i.prop[this.lastProperty]))}},t.prototype.registerListenerOnHTMLObject=function(t){return this.registerEventListener(t,this.$view)},t.prototype.fireEvent=function(t){},t.prototype.isClosed=function(){return this.closed},t.prototype.getShowed=function(){return this.isClosed()?this.$owner.getShowed():this},t.prototype.getControlDataID=function(){return this.id+"_data"},t.prototype.generateID=function(t,e){return t||(e?e+"._data":null)},t.prototype.updateViewData=function(){if(this.$view)for(var t=this.$viewData.getKeys(),e=0;e<t.length;e++){var i=t[e];null!==this.$view[i]&&this.$viewData.setValue(i,this.$view[i])}},t.prototype.registerEventListener=function(t,e){if(!e)return!1;if(e instanceof HTMLElement==!1)return!1;var i=this,r=function(e){e.eventType=t,e.id=i.id,i.$owner.fireEvent(e)};return e.addEventListener(t,r),!0},Object.defineProperty(t.prototype,"lastProperty",{get:function(){if(!this.property)return"";var t=this.property.split(".");return t[t.length-1]},enumerable:!0,configurable:!0}),t}();e.Control=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.setActiveHandler=function(t){this.$activeHandler=t},t.isHandlerActiveOrFree=function(t,e){return e?this.$activeHandler==t:this.$activeHandler==t||""==this.$activeHandler||void 0==this.$activeHandler},t.isAnyHandlerActive=function(){return!(""===this.$activeHandler||void 0==this.$activeHandler)},t.releaseActiveHandler=function(){this.$activeHandler=""},t.getActiveHandler=function(){return this.$activeHandler},t.register=function(e,i){var r;if("function"==typeof e.getEvents&&(r=e.getEvents()),r&&i)for(var n,o=0,s=r;o<s.length;o++){var a=s[o];t.EVENTS.indexOf(a),n=a.indexOf(":"),i.addEventListener(a.substr(n+1).toLowerCase(),function(i){t.publish(e,i)})}},t.publish=function(e,i){var r=t.handlers[i.type];if(r)for(var n=0,o=r;n<o.length;n++){var s=o[n];s.handle(i,e)}},t.subscribe=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];for(var n=0,o=i;n<o.length;n++){var s=o[n],a=t.handlers[s];null!==a&&void 0!==a||(a=[],t.handlers[s]=a),a.push(e)}},t.CREATE="Create",t.EDITOR="Editor",t.OPENPROPERTIES="openProperties",t.RELOADPROPERTIES="reloadProperties",t.ELEMENTMOUSEDOWN="ELEMENT:MOUSEDOWN",t.ELEMENTMOUSEUP="ELEMENT:MOUSEUP",t.ELEMENTMOUSELEAVE="ELEMENT:MOUSELEAVE",t.ELEMENTMOUSEMOVE="ELEMENT:MOUSEMOVE",t.ELEMENTMOUSEWHEEL="ELEMENT:MOUSEWHEEL",t.ELEMENTCLICK="ELEMENT:CLICK",t.ELEMENTDBLCLICK="ELEMENT:DBLCLICK",t.ELEMENTDRAG="ELEMENT:DRAG",t.ELEMENTDRAGOVER="ELEMENT:DRAGOVER",t.ELEMENTDROP="ELEMENT:DROP",t.ELEMENTDRAGLEAVE="ELEMENT:DRAGLEAVE",t.EVENTS=[t.CREATE,t.EDITOR,t.OPENPROPERTIES,t.RELOADPROPERTIES,t.ELEMENTMOUSEDOWN,t.ELEMENTMOUSEUP,t.ELEMENTMOUSELEAVE,t.ELEMENTMOUSEMOVE,t.ELEMENTMOUSEWHEEL,t.ELEMENTCLICK,t.ELEMENTDRAG,t.ELEMENTDBLCLICK,t.ELEMENTDRAGOVER,t.ELEMENTDROP,t.ELEMENTDRAGLEAVE],t.handlers={},t.$activeHandler="",t}();e.EventBus=r},function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),r(i(11)),r(i(45)),r(i(46)),r(i(47)),r(i(25)),r(i(48))},function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0});var n=i(13),o=i(14),s=i(15),a=i(16);r(i(6)),r(i(17)),r(i(20)),r(i(21)),r(i(14)),r(i(33)),r(i(15)),r(i(34)),r(i(35)),r(i(16)),r(i(37)),r(i(39)),r(i(40)),r(i(13)),r(i(18)),r(i(19)),r(i(41)),r(i(42)),r(i(9)),new n.AutoComplete,new o.BR,new s.Div,new a.Label},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(t){function e(e){var i=t.call(this)||this;return i.$edges=[],i.$minWidth=150,i.$minheight=25,i.withSize(i.$minWidth,i.$minheight),e&&(e.x&&e.y&&i.withPos(e.x,e.y),(e.width||e.height)&&i.withSize(e.width,e.height),e.label&&(i.label=e.label)),i}return r(e,t),e.prototype.getSVG=function(){var t=this.getPos(),e=this.getSize(),i={tag:"rect",x:t.x-e.x/2,y:t.y-e.y/2,rx:4,ry:4,height:e.y,width:e.x,style:"fill:white;stroke:black;stroke-width:2"},r=this.createShape(i),n={tag:"text",x:t.x,y:t.y,"text-anchor":"middle","alignment-baseline":"middle","font-family":"Verdana","font-size":"14",fill:"black"},o=this.createShape(n);o.textContent=this.id;var s=this.createShape({tag:"g",id:this.id});return s.appendChild(r),s.appendChild(o),s},e.prototype.copy=function(){var t,i=this.$owner||this.getRoot();if(i){var r=this.property||e.name,n=i.getNewId(r);t=i.createElement(r,n,null),t.withSize(this.getSize().x,this.getSize().y),t.$owner=i}else t.id=this.id+"-copy",t.$owner=this.getRoot();return t},e.prototype.redrawEdges=function(){for(var t=0,e=this.$edges;t<e.length;t++){e[t].redraw(this)}},e}(n.DiagramElement);e.Node=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.prop={},this.$listener={}}return t.prototype.getKeys=function(){return Object.keys(this.prop)},t.prototype.addProperties=function(t){if(t)if(t.prop){var e=t.prop;for(var i in e)!1!==e.hasOwnProperty(i)&&null!==e[i]&&""!==e[i]&&this.setValue(i,e[i])}else{var r=t.upd||{},n=t.rem||{};for(var i in r)!1!==r.hasOwnProperty(i)&&(!1===n.hasOwnProperty(i)?this.setValue(i,r[i]):this.getValue(i)===n[i]&&this.setValue(i,r[i]))}},t.nullCheck=function(t){return void 0!==t&&null!=t||(t=""),t},t.prototype.getListeners=function(e){return e=t.nullCheck(e),this.$listener[e]},t.prototype.getValue=function(t){return this.prop[t]},t.prototype.setValue=function(t,e){var i=this.prop[t];i==e&&null!==e||(this.prop[t]=e,this.firePropertyChange(t,i,e))},t.prototype.firePropertyChange=function(e,i,r){e=t.nullCheck(e);var n=this.getListeners(e);if(n)for(var o in n)n[o].propertyChange(this,e,i,r);if(n=this.getListeners(null))for(var o in n)n[o].propertyChange(this,e,i,r)},t.prototype.addTo=function(t,e){var i;return this.prop[t]?!1===this.prop[t].contains(e)&&(i=!0):(this.prop[t]=[],i=!0),i&&(this.prop[t].push(e),this.firePropertyChange(t,null,e)),i},t.prototype.removeFrom=function(t,e){if(!this.prop[t])return!0;var i=this.prop[t].indexOf(e);return i<0||(this.prop[t].splice(i,1),this.firePropertyChange(t,e,null),!0)},t.prototype.addListener=function(e,i){var r=this.getListeners(i);r||(r=[],this.$listener[t.nullCheck(i)]=r),r.push(e)},t.prototype.removeListener=function(e,i){var r=this.getListeners(i);if(null!==r){var n=r.indexOf(e);n>=0&&r.splice(n,1),0==r.length&&""!=t.nullCheck(i)&&delete this.$listener[i]}},t.prototype.hasProperty=function(t){return this.prop.hasOwnProperty(t)},t.prototype.addFrom=function(t,e){e?this.setValue(t,e.getValue(t)):this.setValue(t,null)},t.prototype.removeKey=function(t){if(this.hasProperty(t)){var e=this.prop[t];return delete this.prop[t],e}return null},t}();e.default=r},function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);e.Point=n.Point;var o=i(12);e.Bridge=o.Bridge,e.DelegateAdapter=o.DelegateAdapter;var s=i(10);e.Graph=s.Graph,r(i(5)),r(i(4)),r(i(23)),r(i(60));var a=i(1),l=i(10),h=i(12),d=i(0),p=i(5),c=i(4);window.Point||(window.Point=a.Point,window.Graph=l.Graph,window.bridge=new h.Bridge,window.Util=d.Util,window.Clazz=p.Clazz,window.Association=c.Association,window.SymbolLibary=p.SymbolLibary)},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i.modifier="+",i.extractData(e),i}return r(e,t),e.prototype.extractData=function(t){if(t&&(t.type&&(this.type=t.type),t.name&&(this.name=t.name),t.modifier&&(this.modifier=t.modifier),"string"==typeof t)){var e=t.split(":");if(e&&2===e.length){var i=e[0].trim(),r=i[0];"+"===r||"-"===r||"#"===r?(this.modifier=r,this.name=i.substring(1,i.length).trim()):this.name=i,this.name=this.name.replace(/ /g,"_"),this.type=e[1].trim()||"String","string"===this.type.toLowerCase()&&(this.type="String"),this.type=this.type.replace(/ /g,"_")}}},e.prototype.update=function(t){this.extractData(t),this.updateTextOfView()},e.prototype.updateModifier=function(t){this.modifier=t,this.updateTextOfView()},e.prototype.updateType=function(t){this.type=t,this.updateTextOfView()},e.prototype.updateName=function(t){this.name=t,this.updateTextOfView()},e.prototype.updateTextOfView=function(){this.$view.textContent=this.toString(),n.Util.saveToLocalStorage(this.$owner.$owner)},e.prototype.getSVG=function(){var t={tag:"text","text-anchor":"start","alignment-baseline":"middle"},e=n.Util.createShape(t);return e.textContent=this.toString(),this.$view=e,e},e.prototype.toString=function(){return this.modifier+" "+this.name+" : "+this.type},e}(o.DiagramElement);e.default=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),o=i(4),s=i(5),a=i(49),l=i(50),h=i(51),d=i(29),p=i(1),c=i(0),u=i(2),f=i(3),g=i(52),v=i(30),y=i(59),m=function(t){function e(e,i){var r=t.call(this)||this;return r.containerElements=["svg","g"],r.relevantStyles={rect:["fill","stroke","stroke-width"],path:["fill","stroke","stroke-width","opacity"],circle:["fill","stroke","stroke-width"],line:["stroke","stroke-width"],text:["fill","font-size","text-anchor","font-family"],polygon:["stroke","fill"]},e=e||{},e.data&&(i=e.options,e=e.data,r.id=e.id),r.options=i||{},e.init?r:(r.options.origin||(r.options.origin=new p.Point(150,45)),r.options.autoSave&&(c.Util.isAutoSave=i.autoSave),r.initFactories(),r.initCanvas(),r.initFeatures(r.options.features),r.lookupInLocalStorage()||r.load(e),f.EventBus.register(r,r.$view),r)}return r(e,t),e.prototype.lookupInLocalStorage=function(){if(!this.options.autoSave)return!1;if(!c.Util.isLocalStorageSupported())return!1;var t=c.Util.getDiagramFromLocalStorage();if(t&&t.length>0&&confirm("Restore previous session?")){var e=JSON.parse(t);return this.load(e),!0}return!1},e.prototype.fitSizeOnNodes=function(){for(var t=0,e=0,i=0,r=this.$graphModel.nodes;i<r.length;i++){var n=r[i],o=n.getPos(),s=n.getSize(),a=o.x+s.x,l=o.y+s.y;a>t&&(t=a),l>e&&(e=l)}this.root.setAttributeNS(null,"width",""+(t+100)),this.root.setAttributeNS(null,"height",""+(e+50))},e.prototype.saveAs=function(t){t=t.toLowerCase();var e=this.getRootSize();this.fitSizeOnNodes(),"svg"===t?this.exportSvg():"png"===t?this.exportPng():"html"===t?this.exportHtml():"pdf"===t?this.exportPdf():"json"===t&&this.exportJson(),this.root.setAttributeNS(null,"width",""+e.width),this.root.setAttributeNS(null,"height",""+e.height)},e.prototype.save=function(t,e,i){var r=document.createElement("a");r.href=window.URL.createObjectURL(new Blob([e],{type:t})),r.download=i,document.body.appendChild(r),r.click(),document.body.removeChild(r)},e.prototype.exportSvg=function(){var t=this.getSvgWithStyleAttributes();this.save("image/svg+xml",this.serializeXmlNode(t),"class_diagram.svg")},e.prototype.exportHtml=function(){var t="<html><head><title>DiagramJS - Classdiagram</title></head><body>$content</body></html>",e=this.getSvgWithStyleAttributes(),i=this.serializeXmlNode(e),r=t.replace("$content",i);this.save("text/plain",r,"class_diagram.htm")},e.prototype.exportJson=function(){var t=c.Util.toJson(this.$graphModel),e=JSON.stringify(t,null,"\t");this.save("text/plain",e,"class_diagram.json")},e.prototype.exportPdf=function(){if(!window.jsPDF)return void console.log("jspdf n.a.");var t,e,i=this.serializeXmlNode(this.getSvgWithStyleAttributes()),r=window.URL.createObjectURL(new Blob([i],{type:"image/svg+xml"})),n=new Image,o=this.getRootSize();n.onload=function(){t=document.createElement("canvas"),t.width=o.width,t.height=o.height,e=t.getContext("2d"),e.drawImage(n,0,0);var i=new window.jsPDF;i.addImage(t.toDataURL("image/jpeg"),"jpeg",15,40,180,160),i.save("class_diagram.pdf")},n.src=r},e.prototype.exportPng=function(){var t,e,i,r=new Image,n=this.serializeXmlNode(this.getSvgWithStyleAttributes()),o=window.URL.createObjectURL(new Blob([n],{type:"image/svg+xml"})),s=this.getRootSize();r.onload=function(){t=document.createElement("canvas"),t.width=s.width,t.height=s.height,e=t.getContext("2d"),e.drawImage(r,0,0),i=document.createElement("a"),i.download="class_diagram.png",i.href=t.toDataURL("image/png"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},r.src=o},e.prototype.getSvgWithStyleAttributes=function(){var t=this.$graphModel.$view.cloneNode(!0);return this.readElement(t,this.$graphModel.$view),t},e.prototype.readElement=function(t,e){for(var i=t.childNodes,r=e.childNodes,n=0;n<i.length;n++){var o=i[n],s=o.tagName;if(-1!==this.containerElements.indexOf(s))this.readElement(o,r[n]);else if(s in this.relevantStyles){for(var a=window.getComputedStyle(r[n]),l="",h=0;h<this.relevantStyles[s].length;h++)l+=this.relevantStyles[s][h]+":"+a.getPropertyValue(this.relevantStyles[s][h])+"; ";o.setAttribute("style",l)}}},e.prototype.serializeXmlNode=function(t){return void 0!==window.XMLSerializer?(new window.XMLSerializer).serializeToString(t):void 0!==t.xml?t.xml:t.outerHTML},e.prototype.getRootSize=function(){var t,e;return t=+this.root.getAttribute("width"),e=+this.root.getAttribute("height"),{width:t,height:e}},e.prototype.load=function(t,e){this.$graphModel=new l.GraphModel,this.$graphModel.init(this),this.$graphModel.load(t)},e.prototype.clearModel=function(){this.$graphModel.removeAllElements(),this.clearSvgRoot()},e.prototype.init=function(e,i,r){return t.prototype.init.call(this,e,i,r),this.layout(),this},e.prototype.propertyChange=function(t,e,i,r){},e.prototype.getNextFreePosition=function(){if(!this.$graphModel)return new p.Point(50,50);for(var t=new p.Point(0,50),e=0,i=9e3,r=0,n=this.$graphModel.nodes;r<n.length;r++){var o=n[r];e=Math.max(e,o.getPos().x),i=Math.min(i,o.getPos().x)}return t.x=i>170?10:e+200,t},e.prototype.addElement=function(t,e){var i=this.$graphModel.addElement(t);return!0===i&&this.layout(e),i},e.prototype.addElementWithValues=function(t,e,i,r){var n=this.$graphModel.addElementWithValues(t,e);return n&&i&&this.layout(r),n},e.prototype.layout=function(t){this.getLayout().layout(this,this.$graphModel),t||this.draw()},e.prototype.getEvents=function(){return[f.EventBus.ELEMENTDRAGOVER,f.EventBus.ELEMENTDRAGLEAVE,f.EventBus.ELEMENTDROP]},e.prototype.draw=function(){this.clearSvgRoot();var t=this.$graphModel,e=this.root,i=new p.Point;this.options&&(i.x=this.options.minWidth||0,i.y=this.options.minHeight||0);for(var r=0,n=t.nodes;r<n.length;r++){var o=n[r],s=o.getSVG();f.EventBus.register(o,s),e.appendChild(s);var a=void 0;a=o.getPos().x+o.getSize().x,a>i.x&&(i.x=a),a=o.getPos().y+o.getSize().y,a>i.y&&(i.y=a)}c.Util.setAttributeSize(this.root,i.x+60,i.y+40);for(var l=0,h=t.edges;l<h.length;l++){var d=h[l],s=d.getSVG();f.EventBus.register(d,s),e.appendChild(s)}},e.prototype.drawElement=function(t){if(t){var e=t.getSVG();this.root.appendChild(e);var i=this.getRootSize(),r=t.getPos().x+t.getSize().x+40,n=t.getPos().y+t.getSize().y;if(i.width<r&&this.root.setAttributeNS(null,"width",""+r),i.height<n&&this.root.setAttributeNS(null,"height",""+n),t instanceof o.Association){var s=t;s.redraw(s.$sNode);var a=t.$sNode.getAlreadyDisplayingSVG(),l=t.$tNode.getAlreadyDisplayingSVG();this.root.appendChild(a),this.root.appendChild(l)}f.EventBus.register(t,e)}},e.prototype.removeElement=function(t){if(t){var e=t.getAlreadyDisplayingSVG();c.Util.isParentOfChild(this.root,e)&&this.root.removeChild(e)}},e.prototype.generate=function(t){this.$graphModel.workspace=t;var e,i=c.Util.toJson(this.$graphModel);e=JSON.stringify(i,null,"\t"),window.java&&"function"==typeof window.java.generate&&window.java.generate(e)},e.prototype.createPattern=function(){var t=c.Util.createShape({tag:"defs"}),e=c.Util.createShape({tag:"pattern",id:"raster",patternUnits:"userSpaceOnUse",width:40,height:40}),i=c.Util.createShape({tag:"path",d:"M0 4 L0 0 L4 0 M36 0 L40 0 L40 4 M40 36 L40 40 L36 40 M4 40 L0 40 L0 36",stroke:"#DDD","stroke-width":1,fill:"none"}),r=c.Util.createShape({tag:"rect",x:0,y:0,width:40,height:40,fill:"none"});return e.appendChild(r),e.appendChild(i),t.appendChild(e),t},e.prototype.clearSvgRoot=function(){var t=this.root;for(this.$graphModel.$view.dispatchEvent(c.Util.createCustomEvent("click"));t.firstChild;)t.removeChild(t.firstChild);t.appendChild(this.createPattern());var e=c.Util.createShape({tag:"rect",id:"background",width:5e3,height:5e3,x:0,y:0,stroke:"#999","stroke-width":"1",fill:"url(#raster)"});t.appendChild(e);var i=document.getElementById("inlineEdit");i&&document.body.contains(i)&&document.body.removeChild(i)},e.prototype.getLayout=function(){if(this.currentlayout)return this.currentlayout;var t=this.options.layout||"";return this.layoutFactory[t]?this.currentlayout=new this.layoutFactory[t]:this.currentlayout=new a.DagreLayout,this.currentlayout},e.prototype.initFactories=function(){var t=s;this.nodeFactory={};for(var e in t)!0===t.hasOwnProperty(e)&&(this.nodeFactory[e]=t[e]);var i=n;this.edgeFactory={};for(var e in i)!0===i.hasOwnProperty(e)&&(this.edgeFactory[e]=i[e]);var r=a;this.layoutFactory={};for(var e in r)!0===r.hasOwnProperty(e)&&(this.layoutFactory[e]=r[e])},e.prototype.initCanvas=function(){this.options.canvas&&(this.$view=document.getElementById(this.options.canvas)),this.$view||(this.$view=document.createElement("div"),this.$view.setAttribute("class","diagram"),document.body.appendChild(this.$view))},e.prototype.initFeatures=function(t){if(t){if(t.newedge&&f.EventBus.subscribe(new g.NewEdge(this),"mousedown","mouseup","mousemove","mouseleave"),t.import&&f.EventBus.subscribe(new v.ImportFile(this),"dragover","dragleave","drop"),t.zoom){var e="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";f.EventBus.subscribe(new g.Zoom(this),e)}if(t.drag&&f.EventBus.subscribe(new g.Drag(this),"mousedown","mouseup","mousemove","mouseleave"),t.select&&f.EventBus.subscribe(new g.Select(this),"click","drag"),t.palette){new h.default(this)}if(t.toolbar&&new y.Toolbar(this).show(),t.properties){var i=new g.PropertiesDispatcher(this);i.dispatch(d.PropertiesPanel.PropertiesView.Clear),f.EventBus.subscribe(i,"dblclick","click",f.EventBus.RELOADPROPERTIES)}t.addnode&&f.EventBus.subscribe(new g.AddNode(this),"mousedown","mouseup","mousemove","mouseleave")}},e}(u.Control);e.Graph=m},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(44),s=i(0),a=i(3),l=i(4);!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(e.Direction||(e.Direction={}));var h=function(t){function e(e){var i=t.call(this)||this;return i.$points=[],i.withData(e),i}return r(e,t),e.prototype.withData=function(t){if(!t)return this;var e,i;return t.source&&"string"!=typeof t.source?e=t.source:t.sourceInfo&&"string"!=typeof t.sourceInfo&&(e=t.sourceInfo),e&&(this.sourceInfo=new o.InfoText(e),this.sourceInfo.$owner=this),t.target&&"string"!=typeof t.target?i=t.target:t.targetInfo&&"string"!=typeof t.targetInfo&&(i=t.targetInfo),i&&(this.targetInfo=new o.InfoText(i),this.targetInfo.$owner=this),this},e.prototype.updateSrcCardinality=function(t){this.sourceInfo=this.updateCardinality(this.$sNode,this.sourceInfo,t),this.redrawSourceInfo(),s.Util.saveToLocalStorage(this.$owner)},e.prototype.updateTargetCardinality=function(t){this.targetInfo=this.updateCardinality(this.$tNode,this.targetInfo,t),this.redrawTargetInfo(),s.Util.saveToLocalStorage(this.$owner)},e.prototype.updateCardinality=function(t,e,i){if(!e){e=new o.InfoText({cardinality:i}),e.$owner=this;var r=this.calcInfoPosNew(e,t);return e.withPos(r.x,r.y),this.$view.appendChild(e.getSVG()),e}return e.cardinality=i,e.isEmpty()?void this.$view.removeChild(e.$view):(e.updateCardinality(i),e)},e.prototype.updateSrcProperty=function(t){this.sourceInfo=this.updateProperty(this.$sNode,this.sourceInfo,t),this.redrawSourceInfo(),s.Util.saveToLocalStorage(this.$owner)},e.prototype.updateTargetProperty=function(t){this.targetInfo=this.updateProperty(this.$tNode,this.targetInfo,t),this.redrawTargetInfo(),s.Util.saveToLocalStorage(this.$owner)},e.prototype.updateProperty=function(t,e,i){if(!e){e=new o.InfoText({property:i}),e.$owner=this;var r=this.calcInfoPosNew(e,t);return e.withPos(r.x,r.y),this.$view.appendChild(e.getSVG()),e}return e.property=i,e.isEmpty()?void this.$view.removeChild(e.$view):(e.updateProperty(i),e)},e.prototype.withItem=function(t,e){return t.$edges.push(this),e.$edges.push(this),this.$sNode=t,this.$tNode=e,this.source=t.label,this.target=e.label,this},e.prototype.getSVG=function(){var t=s.Util.createShape({tag:"g",id:this.id,class:"SVGEdge"}),e=this.getPath(),i={tag:"path",d:e,fill:"none"},r=this.createShape(i);i.style="stroke-width:20;opacity:0";var n=s.Util.createShape(i);if(t.appendChild(n),t.appendChild(r),this.sourceInfo){var o=this.calcInfoPosNew(this.sourceInfo,this.$sNode);this.sourceInfo.withPos(o.x,o.y),t.appendChild(this.sourceInfo.getSVG())}if(this.targetInfo){var o=this.calcInfoPosNew(this.targetInfo,this.$tNode);this.targetInfo.withPos(o.x,o.y),t.appendChild(this.targetInfo.getSVG())}return this.$pathWideSvg=n,this.$pathSvg=r,this.$view=t,t},e.prototype.getEvents=function(){return[a.EventBus.ELEMENTCLICK,a.EventBus.ELEMENTDBLCLICK,a.EventBus.EDITOR,a.EventBus.OPENPROPERTIES]},e.prototype.convertEdge=function(t,e,i){if(!l[t])return this;var r=new l[t];r.withItem(this.$sNode,this.$tNode),r.id=e,r.type=t,r.lineStyle=this.lineStyle,r.$owner=this.$owner,this.sourceInfo&&(r.sourceInfo=new o.InfoText({property:this.sourceInfo.property,cardinality:this.sourceInfo.cardinality}),r.sourceInfo.$owner=r),this.targetInfo&&(r.targetInfo=new o.InfoText({property:this.targetInfo.property,cardinality:this.targetInfo.cardinality}),r.targetInfo.$owner=r),this.$points.forEach(function(t){r.addPoint(t.x,t.y)});var n=this.getRoot();if(!n)return this;var s=n.$graphModel.edges.indexOf(this);if(n.$graphModel.removeElement(this.id),s>-1?n.$graphModel.edges.splice(s,0,r):n.$graphModel.edges.push(r),!i)return r;var h;h=n?n.root:document.getElementById("root");var d=r.getSVG();n.removeElement(this),h.appendChild(d);var p="Edge"!==t;return r.redraw(r.$sNode,p),r.redraw(r.$tNode,p),a.EventBus.register(r,d),this.sourceInfo=void 0,this.targetInfo=void 0,r},e.prototype.redraw=function(t,e){if(t){var i,r,n;this.$sNode.id===t.id?(r=this.$points[0],n=1):this.$tNode.id===t.id&&(r=this.$points[this.$points.length-1],n=this.$points.length-2),i=this.$points[n],this.calcIntersection(t,r,i),this.$points.length>2&&this.$tNode.id===t.id&&i.y>t.getPos().y+t.getSize().y/2&&this.$points.splice(n,1),this.$tNode.id===t.id&&2==this.$points.length&&this.calcIntersection(this.$sNode,i,r),this.$points.length>2&&this.$sNode.id===t.id&&t.getPos().y+t.getSize().y/2>i.y&&this.$points.splice(n,1),this.$sNode.id===t.id&&2==this.$points.length&&this.calcIntersection(this.$tNode,i,r),e||this.redrawPointsAndInfo()}},e.prototype.redrawPointsAndInfo=function(){var t=this.getPath();this.$pathSvg.setAttributeNS(null,"d",t),this.$pathWideSvg.setAttributeNS(null,"d",t),this.redrawSourceInfo(),this.redrawTargetInfo()},e.prototype.redrawSourceInfo=function(){if(this.sourceInfo){var t=this.calcInfoPosNew(this.sourceInfo,this.$sNode);this.sourceInfo.redrawFromEdge(t)}},e.prototype.redrawTargetInfo=function(){if(this.targetInfo){var t=this.calcInfoPosNew(this.targetInfo,this.$tNode);this.targetInfo.redrawFromEdge(t)}},e.prototype.getPath=function(){if(0==this.$points.length)return"";for(var t="M",e=0;e<this.$points.length;e++){var i=this.$points[e];e>0&&(t+="L"),t+=Math.floor(i.x)+" "+Math.floor(i.y)+" "}return t},e.prototype.calcIntersection=function(t,e,i){var r=t.getSize().y,n=t.getSize().x,o=t.getPos().x+n/2,s=t.getPos().y+r/2,a=i.x,l=i.y,h=e.x,d=e.y;if(h=a>o?o+n/2:a<o?o-n/2:o,d=a-o!=0?(l-s)/(a-o)*(h-o)+s:s>l?t.getPos().y:t.getPos().y+r,!(s-r/2<=d&&d<=s+r/2))if(d=l>s?s+r/2:s-r/2,a-o!=0){var p=(l-s)/(a-o);h=(d+p*o-s)/p}else h=o;return e.x=Math.ceil(h),e.y=Math.ceil(d),null},e.prototype.calcInfoPosNew=function(t,e){if(!t||!e)return null;var i,r;this.$sNode.id===e.id?(i=this.$points[0],r=this.$points[1]):this.$tNode.id===e.id&&(i=this.$points[this.$points.length-1],r=this.$points[this.$points.length-2]);var o,s,a=this.getDirectionOfPointToNode(e,i);switch(a){case 0:o=i.x>=r.x?i.x+5:i.x-t.getSize().x,s=i.y+t.getSize().y/2;break;case 3:s=i.y>=r.y?i.y+t.getSize().y/2:i.y-t.getSize().y/2-5,o=i.x-t.getSize().x-5;break;case 2:s=i.y>=r.y?i.y+t.getSize().y/2:i.y-t.getSize().y/2-5,o=i.x+5;break;case 1:o=i.x>=r.x?i.x+5:i.x-t.getSize().x,s=i.y-t.getSize().y/2-5}return new n.Point(o,s)},e.prototype.clearPoints=function(){this.$points=[],this.$points=[]},e.prototype.getDirectionOfPointToNode=function(t,e){var i=t.getPos(),r=new n.Point(i.x+t.getSize().x,i.y+t.getSize().y),o=1;return i.y>=e.y&&(o=1),r.y<=e.y&&(o=0),i.x>=e.x&&(o=3),r.x<=e.x&&(o=2),o},e.prototype.addPoint=function(t,e){return this.$points.push(new n.Point(t,e)),this.$points},e}(n.DiagramElement);e.Association=h},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=i(23),s=i(7),a=i(2),l=i(24),h=i(10),d=i(0),p=function(t){function e(e){var i=t.call(this)||this;i.controlFactory={},i.adapterFactory={},i.controls={},i.adapters={},i.items={},i.controlNo=1,i.online=!0,i.language=navigator.language.toUpperCase(),i.addListener=function(t){this.listener.push(t)};var r;e&&(i.$view=e);var s=Object.keys(o);for(r=0;r<s.length;r++){var a=o[s[r]];a&&a.id&&(i.adapterFactory[a.id.toLowerCase()]=a)}for(s=Object.keys(n),r=0;r<s.length;r++)i.addControl(n[s[r]]);i.addControl(h.Graph);var l=i;return window.addEventListener("load",function(){var t=function(){l.setOnline(navigator.onLine)};window.addEventListener("online",t),window.addEventListener("offline",t)}),i}return r(e,t),e.prototype.setOnline=function(t){this.online=t,this.toolBar.children[0]&&(this.toolBar.children[0].className=t?"online":"offline")},e.prototype.addToolbar=function(){if(this.toolBar)return!1;this.toolBar=document.createElement("div"),this.toolBar.className="onlineStatus";var t=document.createElement("div");t.className="online",this.toolBar.appendChild(t),t=document.createElement("div"),t.className="lang",t.innerHTML=this.language,this.toolBar.appendChild(t);var e=document.getElementsByTagName("body")[0];return e.insertBefore(this.toolBar,e.firstChild),this.setOnline(this.online),!0},e.prototype.addControl=function(t){t&&t.name&&(this.controlFactory[t.name.toLowerCase()]=t)},e.prototype.getId=function(){return"control"+this.controlNo++},e.prototype.adapterUpdate=function(t){var e=Object.keys(this.adapters);if(e.length>0){var i=void 0;for(i=0;i<e.length;i++){var r=this.adapters[e[i]];if(r instanceof l.Adapter)r.update(t);else for(var n=0,o=r;n<o.length;n++){var s=o[n];s.update(t)}}}},e.prototype.load=function(t,e){var i,r,n={};if("string"==typeof t){n.id=""+t;var o,s=document.getElementById(n.id);if(s){if(o=s.getAttribute("class"),o||(o=s.getAttribute("classname")||""),s.getAttribute("property")&&this.hasItem(s.getAttribute("property"))){var a=this.getItem(s.getAttribute("property"));for(var l in a.prop)s.getAttribute(l)&&a.setValue(l,s.getAttribute(l));s.getAttribute("property")}}else o=""+t;o=o.toLowerCase(),n.className=o}else n=t;if(n.id||(n.id=this.getId()),n.className||"clazzdiagram"!==n.type&&"objectdiagram"!==n.type||(n.className="graph"),i=n.className||n.class,i=i.toLocaleLowerCase(),r=n.id,(n.prop||n.upd||n.rem)&&null===this.controls[r]){var h=!this.hasItem(n.id),s=this.getItem(n.id);if(h)for(var p in this.controls)!1!==this.controls.hasOwnProperty(p)&&this.controls[p].addItem(this,s);return s.addProperties(n),this.adapterUpdate(JSON.stringify(n)),s}var c;if(this.controls[r])return c=this.controls[r],c.initControl(t),this.adapterUpdate(JSON.stringify(n)),c;if("object"==typeof this.controlFactory[i]||"function"==typeof this.controlFactory[i]){if(c=new(0,this.controlFactory[i])(t),d.Util.initControl(e||this,c,n.property,r,t),c.id?this.controls[c.id]=c:this.controls[r]=c,"function"==typeof c.getSVG&&"function"==typeof c.getSize){var u=c.getSize(),f=d.Util.createShape({tag:"svg",id:"root",width:u.x,height:u.y}),g=c.getSVG();f.appendChild(g),document.getElementsByTagName("body")[0].appendChild(f)}return c}return null},e.prototype.hasItem=function(t){return void 0!==this.items[t]||(t=t.split(".")[0],void 0!==this.items[t])},e.prototype.getItems=function(){return this.items},e.prototype.getItem=function(t){var e=this.items[t];return e||(t=t.split(".")[0],(e=this.items[t])||(e=new s.default,e.id=t,this.items[t]=e)),e},e.prototype.setValue=function(t,e,i,r){alert("Bridge.setValue: oldVal:"+r+", newVal: "+ +i+", attribute: "+e+", object: "+JSON.stringify(t));var n,o;if(t instanceof String||"string"==typeof t)o=t.toString(),n=this.getItem(o);else if(t instanceof s.default)n=t,o=t.id;else{if(!t.hasOwnProperty("id"))return console.log("object is neither Data nor String.."),!1;n=t,o=t.id}return n&&n.setValue(e,i),!0},e.prototype.getValue=function(t,e){var i,r;if(t instanceof String||"string"==typeof t)r=t.toString(),i=this.getItem(r);else{if(!t.hasOwnProperty("id"))return void console.log("object is neither Data nor String..");i=t}if(i)return i.hasOwnProperty(e)?i[e]:i instanceof s.default?i.getValue(e):null},e.prototype.getNumber=function(t,e,i){void 0===i&&(i=0);var r=this.getValue(t,e);if("number"==typeof r)return r;if("string"==typeof r){var n=Number(r);if(n||0===n)return n}return i},e.prototype.getControl=function(t){return this.controls[t]},e.prototype.registerListener=function(t,e,i){if("string"==typeof e&&(e=this.getControl(e)),!e)return null;if(t&&(t=t.toLowerCase()),e.registerListenerOnHTMLObject(t),i){var r=new c;r.callBackfunction=i,r.id=e.getId(),this.addAdapter(r,t)}return e},e.prototype.addAdapter=function(t,e){e||(e="");var i;if(t instanceof String){i=new(0,this.adapterFactory[t.toLowerCase()])}else i=t;var r=this.adapters[e];return null!==r&&void 0!==r||(r=[],this.adapters[e]=r),r.push(i),i},e.prototype.fireEvent=function(t){var e=this.adapters[""];if(e)for(var i=0;i<e.length;i++){var r=e[i];null!==r.id&&r.id!==t.id||r.update(t)}if(e=this.adapters[t.eventType])for(var i=0;i<e.length;i++){var r=e[i];null!==r.id&&r.id!==t.id||r.update(t)}},e.version="0.42.01.1601007-1739",e}(a.Control);e.Bridge=p;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t){return this.adapter?(this.adapter.update(t),!0):!!this.callBackfunction&&this.executeFunction(this.callBackfunction,t)},e.prototype.setAdapter=function(t){return this.adapter=t,!0},e.prototype.executeFunction=function(t,e){for(var i=window,r=t.split("."),n=0;n<r.length-1;n++)if(void 0===(i=i[r[n]]))return!1;var o=i[r[r.length-1]];return"function"==typeof o?(o.call(i),!0):(window.callBack1.update(e),!1)},e}(l.Adapter);e.DelegateAdapter=c},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(t,e){this.createControl(this.$owner,t)},e.prototype.createControl=function(t,e){this.id="string"==typeof e?e:e.id;var i=document.createElement("div");if(this.$view=i,this.$inputField=document.createElement("input"),this.$dataList=document.createElement("datalist"),this.$dataList.id="data_"+this.id,this.$inputField.setAttribute("list","data_"+this.id),e.value){var r=e.value;this.isMultiple=null!=e.multiple;var n=void 0;if(this.isMultiple){this.$selected=document.createElement("select"),this.$selected.className="hide",this.$selected.multiple=!0,this.$selected.id=this.id,this.$items=document.createElement("div"),this.$items.className="selectedList",i.appendChild(this.$items),this.$inputField.className="selectedInput",i.appendChild(this.$selected),this.$view.style.setProperty("float","left");var o=this;this.$inputField.oninput=function(){o.onChange()}}else this.$inputField.id=this.id;for(var s in r)r.hasOwnProperty(s)&&(n=document.createElement("option"),n.value=r[s],this.$dataList.appendChild(n),this.isMultiple&&(n=document.createElement("option"),n.value=r[s],n.innerHTML=r[s],this.$selected.appendChild(n)));i.appendChild(this.$inputField),i.appendChild(this.$dataList)}if(e instanceof Object){for(var s in e)e.hasOwnProperty(s)&&this.$view.setAttribute(s,e[s]);this.isMultiple&&i.appendChild(this.$selected)}t.appendChild(this)},e.prototype.onChange=function(){var t=this.$inputField.value;if(!(t.length<1))for(var e=this,i=0;i<this.$selected.children.length;i++)!function(i){var r=e.$selected.children[i];if(r.value==t&&0==r.selected){r.selected=!0,r.defaultSelected=!0;var n=document.createElement("li"),o=e;n.onclick=function(){o.onDelete(r.value,n)},n.className="selectedItem",n.innerHTML=r.value,e.$items.appendChild(n),e.$inputField.value=""}}(i)},e.prototype.onDelete=function(t,e){this.$items.removeChild(e);for(var i=0;i<this.$selected.children.length;i++){var r=this.$selected.children[i];r.value==t&&r.selected&&(r.selected=!1)}},e}(n.Control);e.AutoComplete=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(t){this.createControl(this.$owner,t)},e.prototype.createControl=function(t,e){this.$view=document.createElement("br");for(var i in e)e.hasOwnProperty(i)&&this.$view.setAttribute(i,e[i]);t.appendChild(this)},e}(n.Control);e.BR=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(t){var e;if("string"==typeof t?e=t:(e=t.id,this.className=t.class,this.property=t.property),e){this.id=e;var i=document.getElementById(e);if(this.property||(this.property=i.getAttribute("Property")),i instanceof HTMLDivElement)this.$view=i;else{if(i)return;this.$view=document.createElement("div"),this.$view.setAttribute("id",this.id),this.$view.setAttribute("property",this.property),this.$owner.appendChild(this)}t.hasOwnProperty("property")&&this.setProperty(t.property)}},e.prototype.addItem=function(t,e){this.$model=e,e&&(this.className&&!e.hasProperty(this.className)||e.id===this.property.split(".")[0]&&e.addListener(this,this.className))},e.prototype.updateElement=function(t,e,i){this.$view.innerHTML=i},e}(n.Control);e.Div=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(t){this.createControl(this.$owner,t)},e.prototype.createControl=function(t,e){this.$view=document.createElement("label");for(var i in e)e.hasOwnProperty(i)&&("textContent"===i?this.$view.textContent=e.textContent:this.$view.setAttribute(i,e[i]));t.appendChild(this)},e}(n.Control);e.Label=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=i(3),s=i(0),a=i(18),l=i(19),h=function(t){function e(e){var i=t.call(this,e)||this;return i.$labelHeight=25,i.$labelFontSize=14,i.$attrHeight=25,i.$attrFontSize=12,i.attributes=[],i.methods=[],i}return r(e,t),e.prototype.load=function(t){t||(t={});var e=this.$labelHeight;this.label=t.name||t.label||"New "+this.property;var i=150;if(i=Math.max(i,s.Util.sizeOf(this.label).width+30),t.attributes)for(var r=0,n=t.attributes;r<n.length;r++){var o=n[r],h=new a.default(o);h.$owner=this,this.attributes.push(h),e+=this.$attrHeight,i=Math.max(i,s.Util.sizeOf(h.toString()).width)}if(t.methods){for(var d=0,p=t.methods;d<p.length;d++){var c=p[d],u=new l.default(c);u.$owner=this,this.methods.push(u),e+=this.$attrHeight,i=Math.max(i,s.Util.sizeOf(u.toString()).width)}e+=this.$attrHeight}this.withSize(i,e)},e.prototype.getAttributes=function(){return this.attributes},e.prototype.getMethods=function(){return this.methods},e.prototype.getSVG=function(){var t=this.getPos(),e=this.getSize(),i=this.createShape({tag:"g",id:this.id,class:"SVGClazz",transform:"translate(0 0)"}),r=this.createShape({tag:"rect",x:t.x,y:t.y,height:e.y,width:e.x,rx:5,ry:5}),n=this.createShape({tag:"text",x:t.x+e.x/2,y:t.y+this.$labelHeight/2,"text-anchor":"middle","alignment-baseline":"central","font-family":"Verdana","font-size":this.$labelFontSize,"font-weight":"bold",fill:"black"});if(n.textContent=this.label,this.$labelView=n,i.appendChild(r),i.appendChild(n),this.attributes.length>0){var o=this.createShape({tag:"line",x1:t.x,y1:t.y+this.$labelHeight,x2:t.x+e.x,y2:t.y+this.$labelHeight,"stroke-width":1});i.appendChild(o);var s=this.createShape({tag:"g",id:this.id+"Attributes"});s.setAttributeNS(null,"class","SVGClazzProperty SVGClazzAttribute"),i.appendChild(s);for(var a=t.y+this.$labelHeight+this.$attrHeight/2,l=0,h=this.attributes;l<h.length;l++){var d=h[l],p=d.getSVG();d.$owner=this,p.setAttributeNS(null,"x",""+(t.x+10)),p.setAttributeNS(null,"y",""+a),s.appendChild(p),a+=this.$attrHeight}}var c=this.attributes.length*this.$attrHeight,u=t.y+this.$labelHeight+c+this.$attrHeight/2;if(this.methods.length>0){var f=this.createShape({tag:"line",x1:t.x,y1:t.y+this.$labelHeight+this.$attrHeight*this.attributes.length,x2:t.x+e.x,y2:t.y+this.$labelHeight+this.$attrHeight*this.attributes.length,"stroke-width":1});i.appendChild(f);var g=this.createShape({tag:"g",id:this.id+"Methods"});g.setAttributeNS(null,"class","SVGClazzProperty SVGClazzMethod"),i.appendChild(g),u+=this.$attrHeight/2;for(var v=0,y=this.methods;v<y.length;v++){var m=y[v],w=m.getSVG();m.$owner=this,w.setAttributeNS(null,"x",""+(t.x+10)),w.setAttributeNS(null,"y",""+u),g.appendChild(w),u+=this.$attrHeight}}return this.$view=i,i},e.prototype.copy=function(){var e;return e=t.prototype.copy.call(this),e.label=this.label+"Copy",this.attributes.forEach(function(t){e.attributes.push(new a.default(t.toString()))}),this.methods.forEach(function(t){e.methods.push(new l.default(t.toString()))}),e.reCalcSize(),e},e.prototype.getEvents=function(){return[o.EventBus.ELEMENTMOUSEDOWN,o.EventBus.ELEMENTMOUSEMOVE,o.EventBus.ELEMENTCLICK,o.EventBus.ELEMENTDRAG,o.EventBus.ELEMENTDBLCLICK,o.EventBus.OPENPROPERTIES,o.EventBus.RELOADPROPERTIES]},e.prototype.addProperty=function(t,e){if(this[e]&&t&&0!==t.length){var i;"attributes"===e?i=new a.default(t):"methods"===e&&(i=new l.default(t));for(var r=0,n=this[e];r<n.length;r++){if(n[r].toString()===i.toString())return alert(i.toString()+" already exists."),void(i=void 0)}return this[e].push(i),s.Util.saveToLocalStorage(this.$owner),i}},e.prototype.addAttribute=function(t){return this.addProperty(t,"attributes")},e.prototype.addAttributeObj=function(t){return this.attributes.push(t),this.getAttributes()},e.prototype.addMethodObj=function(t){return this.methods.push(t),this.getMethods()},e.prototype.addMethod=function(t){return this.addProperty(t,"methods")},e.prototype.removeAttribute=function(t){var e=this.attributes.indexOf(t);this.attributes.splice(e,1)},e.prototype.removeMethod=function(t){var e=this.methods.indexOf(t);this.methods.splice(e,1)},e.prototype.removeProperty=function(t){t instanceof a.default&&this.removeAttribute(t),t instanceof l.default&&this.removeMethod(t),s.Util.saveToLocalStorage(this.$owner)},e.prototype.reDraw=function(t){var e=this.hasSizeChanged();if((!t||e[0])&&this.$view){this.$owner.$view.removeChild(this.$view);var i=this.getSVG();this.$owner.$view.appendChild(i),this.$view=i,o.EventBus.register(this,i),this.redrawEdges()}},e.prototype.hasSizeChanged=function(){var t={width:this.getSize().x,height:this.getSize().y},e=this.reCalcSize();return t.width===e.width&&t.height===e.height?[!1,e]:[!0,e]},e.prototype.updateLabel=function(t){var e=this;this.label=t,this.$labelView&&(this.$labelView.textContent=t),this.$edges.forEach(function(i){e.id===i.$sNode.id?i.source=t:e.id===i.$tNode.id&&(i.target=t)}),s.Util.saveToLocalStorage(this.$owner),this.reDraw(!0)},e.prototype.updateModifier=function(t){this.modifier=t,s.Util.saveToLocalStorage(this.$owner)},e.prototype.reCalcSize=function(){var t=150;return t=Math.max(t,s.Util.sizeOf(this.label).width+30),this.attributes.forEach(function(e){var i;i=e.$view?e.$view.getBoundingClientRect().width:s.Util.sizeOf(e.toString()).width,t=Math.max(t,i+15)}),this.methods.forEach(function(e){var i;i=e.$view?e.$view.getBoundingClientRect().width:s.Util.sizeOf(e.toString()).width,t=Math.max(t,i+15)}),this.getSize().x=t,this.getSize().y=this.$labelHeight+(this.attributes.length+this.methods.length)*this.$attrHeight+this.$attrHeight,{width:t,height:this.getSize().y}},e.prototype.redrawEdges=function(){for(var t=0,e=this.$edges;t<e.length;t++){e[t].redraw(this)}},e}(n.Node);e.Clazz=h},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),o=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e}(n.default);e.default=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(9),s=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.extractData=function(t){if(t){if(t.type&&(this.type=t.type),t.name&&(this.name=t.name),t.modifier&&(this.modifier=t.modifier),"string"==typeof t){var e=t.split(":");if(e&&2===e.length){var i=e[0].trim(),r=i[0];"+"===r||"-"===r||"#"===r?(this.modifier=r,this.name=i.substring(1,i.length).trim()):this.name=i,this.type=e[1].trim()||"void"}else{var i=t.trim(),r=i[0];"+"===r||"-"===r||"#"===r?(this.modifier=r,this.name=i.substring(1,i.length).trim()):this.name=i,this.type="void"}}n.Util.includes(this.name,"(")||n.Util.includes(this.name,")")||(this.name+="()")}},e}(o.default);e.default=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.create=function(t){var i=new e;for(var r in t)!1!==t.hasOwnProperty(r)&&i.withKeyValue(r,t[r]);return i},e.prototype.withKeyValue=function(t,e){return"typ"===t?this.property=e:"x"===t?this.withPos(e,null):"y"===t?this.withPos(null,e):"width"===t?this.withSize(e,null):"height"===t?this.withSize(null,e):this[t]=e,this},e}(n.DiagramElement);e.SO=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=i(20),s=i(1),a=i(0),l=function(t){function e(e){var i=t.call(this,e)||this;return i.$heightMax=0,i.$heightMin=0,i}return r(e,t),e.prototype.draw=function(t){return h.draw(this)},e}(n.Node);e.Symbol=l;var h=function(){function t(){}return t.drawSVG=function(e){var i,r=this[t.getName(e)];if("function"==typeof r){var n=o.SO.create(e);return n.property="SVG",i=r(n),t.createGroup(n,i)}return i},t.draw=function(e,i){var r,n=this[t.getName(e)];if("function"==typeof n)return e instanceof s.DiagramElement||(e=o.SO.create(e),e.property||(e.property="SVG")),r=n.apply(this,[e]),t.createGroup(e,r);if(e.property){r=new l(e.property),r.init(e);var a=e.getPos(),h=e.getSize();return r.withPos(a.x,a.y),r.withSize(h.x,h.y),r.value=e.value,i=e.$parent,t.draw(r,i)}return null},t.upFirstChar=function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},t.isSymbolName=function(e){return"function"==typeof t["draw"+t.upFirstChar(e)]},t.isSymbol=function(e){return"function"==typeof t[t.getName(e)]},t.getName=function(e){return e.property?"draw"+t.upFirstChar(e.property):e.type?"draw"+t.upFirstChar(e.type):e.src?"draw"+t.upFirstChar(e.src):"drawNode"},t.createGroup=function(t,e){var i,r,n,o,s,l,h,d;if("HTML"===t.property.toUpperCase()?d=a.Util.create({tag:"svg",style:{left:e.x+t.getPos().x,top:e.y+t.getPos().y,position:"absolute"}}):(d=a.Util.create({tag:"g"}),l="translate("+e.getPos().x+" "+e.getPos().y+")",e.scale&&(l+=" scale("+e.scale+")"),e.rotate&&(l+=" rotate("+e.rotate+")"),d.setAttribute("transform",l),e.id&&(d.id=e.id)),t.tooltip){var p={tag:"title"},c=a.Util.createShape(p);c.textContent=t.tooltip,d.appendChild(c)}if(t.background){var u={tag:"circle",cx:20,cy:20,r:17,stroke:"#888","stroke-width":0,fill:"#DDD"};d.appendChild(a.Util.create(u))}for(h=0;h<e.items.length;h+=1)d.appendChild(a.Util.create(e.items[h]));var f=t.elements;if(a.Util.setSize(d,e.width+t.getSize().x,e.height+t.getSize().y),t.$heightMin=t.getSize().y,f){for(h=0;h<f.length;h+=1)!f[h]&&f[h].length<1&&(f.splice(h,1),h-=1);o=a.Util.create({tag:"g"});var g=void 0;for(n=0,g=0;g<f.length;g+=1)"string"==typeof f[g]?n+=1:n+=f[g].length;n=25*n+6,o.appendChild(a.Util.create({tag:"rect",rx:0,x:0,y:28,width:70,height:n,stroke:"#000",fill:"#fff",opacity:"0.7"})),t.$heightMax=n+t.$heightMin,d.elements=f,"DropDown"===t.type&&(d.activ=a.Util.create({tag:"text",$font:!0,"text-anchor":"left",width:60,x:10,y:20,value:t.activText}),d.appendChild(d.activ)),r=46,i=function(t){d.activ&&(d.activ.textContent=t.currentTarget.value)};var v=void 0;for(n=0;n<f.length;n+=1)if("string"==typeof f[n])v=f[n],s=this.addText(r,0,o,v,"SVGTEXT"),s.value=f[n],t.action?s.onclick=t.action:s.onclick=i,r+=26;else{for(s=this.addText(r,0,o,f[n][0],"SVGTEXT"),r+=26,g=1;g<f[n].length;g+=1)s=this.addText(r,0,o,"* "+f[n][g],"SVGTEXTITEM"),s.value=f[n],t.action?s.onclick=t.action:s.onclick=i,r+=26;v=f[n];a.Util.create({tag:"rect",rx:0,x:0,y:28,width:60,height:n,stroke:"#000",fill:"#fff",opacity:"0.7"})}d.choicebox=o}return d.tool=t,d.onclick=function(){"close"===d.status?d.open():d.close()},d.close=function(){"open"===d.status&&d.choicebox&&this.removeChild(d.choicebox),d.status="close",d.tool.$size.height=d.tool.heightMin,a.Util.setSize(d,d.tool.$size.x,d.tool.$size.y)},d.open=function(){"svg"!==this.tagName&&("close"===d.status&&d.choicebox&&this.appendChild(d.choicebox),d.status="open",d.tool.$size.height=d.tool.heightMax,a.Util.setSize(d,d.tool.width,d.tool.height))},d.close(),d},t.addChild=function(t,e){var i;i=e.offsetLeft?e:a.Util.create(e),i.setAttribute("class","draggable"),t.appendChild(i)},t.all=function(e){t.drawSmiley(e),t.drawDatabase(e),t.drawLetter(e),t.drawMobilephone(e),t.drawWall(e),t.drawActor(e),t.drawLamp(e),t.drawArrow(e),t.drawButton(e),t.drawDropdown(e),t.drawClassicon(e),t.drawClassWithEdgeicon(e)},t.drawHamburger=function(t){return o.SO.create({x:t.getPos().x,y:t.getPos().y,width:50,height:52,items:[{tag:"circle",r:10,fill:"#ccc",cx:8,cy:8},{tag:"path",d:"M 2,3 H 13 M 2,8 H 13 M 2,13 H 13",stroke:"black",fill:"none"}]})},t.drawSmiley=function(t){return o.SO.create({x:t.getPos().x,y:t.getPos().y,width:50,height:52,items:[{tag:"path",d:"m49.01774,25.64542a24.5001,24.5 0 1 1 -49.0001,0a24.5001,24.5 0 1 1 49.0001,0z",stroke:"black",fill:"none"},{tag:"path",d:"m8,31.5c16,20 32,0.3 32,0.3"},{tag:"path",d:"m19.15,20.32a1.74,2.52 0 1 1 -3.49,0a1.74,2.52 0 1 1 3.49,0z"},{tag:"path",d:"m33,20.32a1.74,2.52 0 1 1 -3.48,0a1.74,2.52 0 1 1 3.48,0z"},{tag:"path",d:"m5.57,31.65c3.39,0.91 4.03,-2.20 4.03,-2.20"},{tag:"path",d:"m43,32c-3,0.91 -4,-2.20 -4.04,-2.20"}]})},t.drawDatabase=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:25,height:40,items:[{tag:"path",d:"m0,6.26c0,-6.26 25.03,-6.26 25.03,0l0,25.82c0,6.26 -25.03,6.26 -25.03,0l0,-25.82z",stroke:"black",fill:"none"},{tag:"path",d:"m0,6.26c0,4.69 25.03,4.69 25.03,0m-25.03,2.35c0,4.69 25.03,4.69 25.03,0m-25.03,2.35c0,4.69 25.03,4.69 25.03,0",stroke:"black",fill:"none"}]})},t.drawLetter=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:25,height:17,items:[{tag:"path",stroke:"black",fill:"none",d:"m1,1l22,0l0,14l-22,0l0,-14z"},{tag:"path",stroke:"black",fill:"none",d:"m1.06,1.14l10.94,6.81l10.91,-6.91"}]})},t.drawMobilephone=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:25,height:50,items:[{tag:"path",d:"m 4.2 0.5 15.61 0c 2 0 3.7 1.65 3.7 3.7l 0 41.6c 0 2-1.65 3.7-3.7 3.7l-15.6 0c-2 0-3.7-1.6-3.7-3.7l 0-41.6c 0-2 1.6-3.7 3.7-3.7z",fill:"none",stroke:"black"},{tag:"path",d:"m 12.5 2.73a 0.5 0.5 0 1 1-1 0 0.5 0.5 0 1 1 1 0z"},{tag:"path",d:"m 14 46a 2 2 0 1 1-4 0 2 2 0 1 1 4 0z"},{tag:"path",d:"m 8 5 7 0"},{tag:"path",d:"m 1.63 7.54 20.73 0 0 34-20.73 0z"}]})},t.drawWall=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:25,height:50,items:[{tag:"path",d:"m26,45.44l-5,3.56l-21,-9l0,-36.41l5,-3.56l20.96,9l-0,36.4z"},{tag:"path",stroke:"white",d:"m2.21,11l18.34,7.91m-14.46,-12.57l0,6.3m8.2,21.74l0,6.35m-8.6,-10l0,6.351m4.1,-10.67l0,6.3m4.8,-10.2l0,6.3m-8.87,-10.23l0,6.35m4.78,-10.22l0,6.35m-8,14.5l18.34,7.91m-18.34,-13.91l18.34,7.91m-18.34,-13.91l18.34,7.91m-18.34,-13.91l18.34,7.91m0,-13l0,34m-18.23,-41.84l18.3,8m0,0.11l5,-3.57"}]})},t.drawActor=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:25,height:50,items:[{tag:"line",stroke:"#000",x1:"12",y1:"10",x2:"12",y2:"30"},{tag:"circle",stroke:"#000",cy:"5",cx:"12",r:"5"},{tag:"line",stroke:"#000",y2:"18",x2:"25",y1:"18",x1:"0"},{tag:"line",stroke:"#000",y2:"39",x2:"5",y1:"30",x1:"12"},{tag:"line",stroke:"#000",y2:"39",x2:"20",y1:"30",x1:"12"}]})},t.drawLamp=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:25,height:50,items:[{tag:"path",d:"m 22.47 10.58c-6.57 0-11.89 5.17-11.89 11.54 0 2.35 0.74 4.54 2 6.36 2 4 4.36 5.63 4.42 10.4l 11.15 0c 0.12-4.9 2.5-6.8 4.43-10.4 1.39-1.5 1.8-4.5 1.8-6.4 0-6.4-5.3-11.5-11.9-11.5z",fill:"white",stroke:"black"},{tag:"path",d:"m 18.4 40 8 0c 0.58 0 1 0.5 1 1 0 0.6-0.5 1-1 1l-8 0c-0.6 0-1-0.47-1-1 0-0.58 0.47-1 1-1z"},{tag:"path",d:"m 18.4 42.7 8 0c 0.58 0 1 0.47 1 1 0 0.58-0.47 1-1 1l-8 0c-0.58 0-1-0.47-1-1 0-0.58 0.46-1 1-1z"},{tag:"path",d:"m 18.4 45.3 8 0c 0.58 0 1 0.47 1 1 0 0.58-0.47 1-1 1l-8 0c-0.58 0-1-0.47-1-1 0-0.58 0.46-1 1-1z"},{tag:"path",d:"m 19.5 48c 0.37 0.8 1 1.3 1.9 1.7 0.6 0.3 1.5 0.3 2 0 0.8-0.3 1.4-0.8 1.9-1.8z"},{tag:"path",d:"m 6 37.5 4.2-4c 0.3-0.3 0.8-0.3 1 0 0.3 0.3 0.3 0.8 0 1.1l-4.2 4c-0.3 0.3-0.8 0.3-1.1 0-0.3-0.3-0.3-0.8 0-1z"},{tag:"path",d:"m 39 37.56-4.15-4c-0.3-0.3-0.8-0.3-1 0-0.3 0.3-0.3 0.8 0 1l 4.2 4c 0.3 0.3 0.8 0.3 1 0 0.3-0.3 0.3-0.8 0-1z"},{tag:"path",d:"m 38 23 5.8 0c 0.4 0 0.8-0.3 0.8-0.8 0-0.4-0.3-0.8-0.8-0.8l-5.8 0c-0.4 0-0.8 0.3-0.8 0.8 0 0.4 0.3 0.8 0.8 0.8z"},{tag:"path",d:"m 1.3 23 6 0c 0.4 0 0.8-0.3 0.8-0.8 0-0.4-0.3-0.8-0.8-0.8l-5.9 0c-0.4 0-0.8 0.3-0.8 0.8 0 0.4 0.3 0.8 0.8 0.8z"},{tag:"path",d:"m 34.75 11.2 4-4.1c 0.3-0.3 0.3-0.8 0-1-0.3-0.3-0.8-0.3-1 0l-4 4.1c-0.3 0.3-0.3 0.8 0 1 0.3 0.3 0.8 0.3 1 0z"},{tag:"path",d:"m 11.23 10-4-4c-0.3-0.3-0.8-0.3-1 0-0.3 0.3-0.3 0.8 0 1l 4.2 4c 0.3 0.3 0.8 0.3 1 0 0.3-0.3 0.3-0.8 0-1z"},{tag:"path",d:"m 21.64 1.3 0 5.8c 0 0.4 0.3 0.8 0.8 0.8 0.4 0 0.8-0.3 0.8-0.8l 0-5.8c 0-0.4-0.3-0.8-0.8-0.8-0.4 0-0.8 0.3-0.8 0.8z"},{tag:"path",d:"m 26.1 24.3c-0.5 0-1 0.2-1.3 0.4-1.1 0.6-2 3-2.27 3.5-0.26-0.69-1.14-2.9-2.2-3.5-0.7-0.4-2-0.7-2.5 0-0.6 0.8 0.2 2.2 0.9 2.9 1 0.9 3.9 0.9 3.9 0.9 0 0 0 0 0 0 0.54 0 2.8 0 3.7-0.9 0.7-0.7 1.5-2 0.9-2.9-0.2-0.3-0.7-0.4-1.2-0.4z"},{tag:"path",d:"m 22.5 28.57 0 10.7"}]})},t.drawStop=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:30,height:30,items:[{tag:"path",fill:"#FFF","stroke-width":"2",stroke:"#B00",d:"m 6,6 a 14,14 0 1 0 0.06,-0.06 z m 0,0 20,21"}]})},t.drawMin=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:20,height:20,items:[{tag:"path",fill:"white",stroke:"#000","stroke-width":.2,"stroke-linejoin":"round",d:"m 0,0 19,0 0,19 -19,0 z"},{tag:"path",fill:"none",stroke:"#000","stroke-width":"1px","stroke-linejoin":"miter",d:"m 4,10 13,-0.04"}]})},t.drawArrow=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:10,height:9,rotate:t.rotate,items:[{tag:"path",fill:"#000",stroke:"#000",d:"M 0,0 10,4 0,9 z"}]})},t.drawMax=function(t){return o.SO.create({x:t.getPos().x||0,y:t.getPos().y||0,width:20,height:20,items:[{tag:"path",fill:"white",stroke:"#000","stroke-width":.2,"stroke-linejoin":"round","stroke-dashoffset":2,"stroke-dasharray":"4.8,4.8",d:"m 0,0 4.91187,0 5.44643,0 9.11886,0 0,19.47716 -19.47716,0 0,-15.88809 z"},{tag:"path",fill:"none",stroke:"#000","stroke-width":"1px","stroke-linejoin":"miter",d:"m 4,10 6,0.006 0.02,5 0.01,-11 -0.03,6.02 c 2,-0.01 4,-0.002 6,0.01"}]})},t.drawButton=function(t){var e,i,r,n,s;return e=t.getPos().x||0,i=t.getPos().y||0,r=t.getSize().x||60,n=t.getSize().y||28,s=t.value||"",o.SO.create({x:e,y:i,width:60,height:28,items:[{tag:"rect",rx:8,x:0,y:0,width:r,height:n,stroke:"#000",filter:"url(#drop-shadow)",class:"SVGBtn"},{tag:"text",$font:!0,x:10,y:18,fill:"black",value:s,class:"hand"}]})},t.drawDropdown=function(t){var e,i,r,n;return e=t.getPos().x||0,i=t.getPos().y||0,r=t.getSize().x||60,n=t.getSize().y||28,o.SO.create({x:e,y:i,width:r,height:n,items:[{tag:"rect",rx:0,x:0,y:0,width:r-20,height:n,stroke:"#000",fill:"none"},{tag:"rect",rx:2,x:r-20,y:0,width:20,height:28,stroke:"#000",class:"SVGBtn"},{tag:"path",style:"fill:#000000;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1",d:"m "+(r-15)+",13 10,0 L "+(r-10)+",20 z"}]})},t.drawClassicon=function(t){var e,i,r,n;return e=t.getPos().x||0,i=t.getPos().y||0,r=t.getSize().x||60,n=t.getSize().y||28,o.SO.create({x:e,y:i,width:r,height:n,items:[{tag:"path",d:"m0,0l10.78832,0l0,4.49982l-10.78832,0.19999l0,9.19963l10.78832,0l0,-9.49962l-10.78832,0.19999l0,-4.59982z",style:"fill:none;stroke:#000000;"},{tag:"path",d:"m25.68807,0l10.78832,0l0,4.49982l-10.78832,0.19999l0,9.19963l10.78832,0l0,-9.49962l-10.78832,0.2l0,-4.59982z",style:"fill:none;stroke:#000000;"},{tag:"line",x1:11,y1:7,x2:25,y2:7,stroke:"#000"}]})},t.drawClassWithEdgeicon=function(t){return o.SO.create({x:0,y:0,id:t.id,width:0,height:0,items:[{tag:"path",d:"M2,10 20,10 20,35 2,35 Z M2,17 20,17 M20,10 28,5 28,9 M 28.5,4.7 24,4",style:"fill:none;stroke:#000000;transform:scale(0.8);"}]})},t.drawEdgeicon=function(t){return o.SO.create({x:0,y:0,id:t.id,width:0,height:0,items:[{tag:"path",d:"M10,30 30,10 M19,10 30,10 30,21",style:"fill:none;stroke:#555;stroke-width:2;"}]})},t.drawCopynode=function(t){return o.SO.create({x:0,y:0,id:t.id,width:0,height:0,items:[{tag:"path",d:"M5 5 L15 5 L15 20 L5 20 Z M5 10 L15 10",style:"fill:white;stroke:#000;stroke-width: 1;",transform:"scale(1.3) translate(4 4)"},{tag:"path",d:"M8 2 L18 2 L18 17 L8 17 Z M8 7 L18 7M11 4.5 L15 4.5 M10 10 L16 10 M10 13 L16 13 ",style:"fill:white;stroke:#000;stroke-width: 1;",transform:"scale(1.3) translate(4 4)"}]})},t.drawBasket=function(t){return o.SO.create({x:0,y:0,id:t.id,background:t.brackground||!1,width:0,height:0,items:[{tag:"path",d:"M12 12 L18 12 L18 11 L22 11 L22 12 L28 12 L28 14 L27 14 L27 29 L13 29 L13 14 L12 14 Z M13 14 L27 14 M20 17 L20 26 M17 16 L17 27 M23 16 L23 27",style:"fill:white;stroke:#000;stroke-width: 1;"}]})},t.drawPencil=function(t){return o.SO.create({x:0,y:0,id:t.id,background:t.brackground||!1,width:0,height:0,items:[{tag:"path",d:"M6 20 L12 23 L33 23 L33 17 L12 17 Z M30 17 L30 23 M12 17 L12 23 M15 19 L28 19 M15 21 L28 21",stroke:"#000","stroke-width":1,fill:"white"}]})},t.addText=function(t,e,i,r,n){var o;return i.appendChild(a.Util.create({tag:"text",$font:!0,"text-anchor":"left",width:70,x:10,y:t,class:n,value:r,eventValue:r})),n="SVGTEXT"===n?"SVGChoiceText":"SVGChoice",o=a.Util.create({tag:"rect",rx:0,x:e,y:t-18,width:70,height:24,stroke:"none",class:n}),o.eventValue=r,i.appendChild(o),o},t}();e.SymbolLibary=h},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(5),o=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.load=function(e){t.prototype.load.call(this,e),this.withSize(this.getSize().x,this.getSize().y+this.$labelHeight/2)},e.prototype.getSVG=function(){var t=this.getPos(),e=this.getSize(),i=this.createShape({tag:"rect",x:t.x,y:t.y,height:e.y,width:e.x,rx:10,ry:10}),r=this.createShape({tag:"text",x:t.x+e.x/2,y:t.y+this.$labelHeight/2,"text-anchor":"middle","alignment-baseline":"central","font-family":"Verdana","font-size":10,"font-weight":"bold",fill:"black"});r.textContent=this.stereoType,this.$stereoTypeView=r;var n=this.createShape({tag:"text",x:t.x+e.x/2,y:t.y+this.$labelHeight,"text-anchor":"middle","alignment-baseline":"central","font-family":"Verdana","font-size":this.$labelFontSize,"font-weight":"bold",fill:"black"});n.textContent=this.label,this.$labelView=n;var o=this.createShape({tag:"g",id:this.id,class:"SVGClazz",transform:"translate(0 0)"});if(o.appendChild(i),o.appendChild(r),o.appendChild(n),this.attributes.length>0){var s=this.createShape({tag:"line",x1:t.x,y1:t.y+this.$labelHeight+this.$labelHeight/2,x2:t.x+e.x,y2:t.y+this.$labelHeight+this.$labelHeight/2,"stroke-width":1});o.appendChild(s);var a=this.createShape({tag:"g",id:this.id+"Attributes"});a.setAttributeNS(null,"class","SVGClazzProperty SVGClazzAttribute"),o.appendChild(a);for(var l=t.y+this.$labelHeight+this.$labelHeight/2+this.$attrHeight/2,h=0,d=this.attributes;h<d.length;h++){var p=d[h],c=p.getSVG();p.$owner=this,c.setAttributeNS(null,"x",""+(t.x+10)),c.setAttributeNS(null,"y",""+l),a.appendChild(c),l+=this.$attrHeight}}var u=this.attributes.length*this.$attrHeight,f=t.y+1.5*this.$labelHeight+u+this.$attrHeight/2;if(this.methods.length>0){var g=this.createShape({tag:"line",x1:t.x,y1:t.y+1.5*this.$labelHeight+this.$attrHeight*this.attributes.length,x2:t.x+e.x,y2:t.y+1.5*this.$labelHeight+this.$attrHeight*this.attributes.length,"stroke-width":1});o.appendChild(g);var v=this.createShape({tag:"g",id:this.id+"Methods"});v.setAttributeNS(null,"class","SVGClazzProperty SVGClazzMethod"),o.appendChild(v),f+=this.$attrHeight/2;for(var y=0,m=this.methods;y<m.length;y++){var w=m[y],E=w.getSVG();w.$owner=this,E.setAttributeNS(null,"x",""+(t.x+10)),E.setAttributeNS(null,"y",""+f),v.appendChild(E),f+=this.$attrHeight}}return this.$view=o,o},e.prototype.setStereoTyp=function(t){this.stereoType="<<"+t+">>"},e.prototype.getStereoType=function(){return this.stereoType},e}(n.Clazz);e.StereoType=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}(i(43))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.id=null}return t}();e.Adapter=r},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.$TARGET_ELEMENT_HEIGHT=12,e}return r(e,t),e.prototype.getSVG=function(){var e=this.$points[0],i=this.getDirectionOfPointToNode(this.$sNode,e),r=this.calcCorrectPath(e,i),n=t.prototype.getSVG.call(this),o={tag:"path",d:r,fill:"white"};return this.$targetElement=this.createShape(o),n.appendChild(this.$targetElement),n},e.prototype.redraw=function(e,i){t.prototype.redraw.call(this,e,!0);var r=this.$points[0],n=0;if(this.$sNode.id===e.id||2==this.$points.length){n=this.getDirectionOfPointToNode(this.$sNode,r);var o=this.calcCorrectPath(r,n);this.$targetElement.setAttributeNS(null,"d",o)}this.redrawPointsAndInfo()},e.prototype.calcCorrectPath=function(t,e){var i,r=t.x,n=t.y;switch(e){case 0:i="M"+r+" "+(n+3)+" L"+(r+this.$TARGET_ELEMENT_HEIGHT)+" "+(n+this.$TARGET_ELEMENT_HEIGHT)+" L"+(r-this.$TARGET_ELEMENT_HEIGHT)+" "+(n+this.$TARGET_ELEMENT_HEIGHT)+" Z",t.y=t.y+12;break;case 3:i="M"+(r-3)+" "+n+" L"+(r-this.$TARGET_ELEMENT_HEIGHT)+" "+(n+this.$TARGET_ELEMENT_HEIGHT)+" L"+(r-this.$TARGET_ELEMENT_HEIGHT)+" "+(n-this.$TARGET_ELEMENT_HEIGHT)+" Z",t.x=t.x-12;break;case 2:i="M"+(r+3)+" "+n+" L"+(r+this.$TARGET_ELEMENT_HEIGHT)+" "+(n-this.$TARGET_ELEMENT_HEIGHT)+" L"+(r+this.$TARGET_ELEMENT_HEIGHT)+" "+(n+this.$TARGET_ELEMENT_HEIGHT)+" Z",t.x=t.x+12;break;case 1:i="M"+r+" "+(n-3)+" L"+(r+this.$TARGET_ELEMENT_HEIGHT)+" "+(n-this.$TARGET_ELEMENT_HEIGHT)+" L"+(r-this.$TARGET_ELEMENT_HEIGHT)+" "+(n-this.$TARGET_ELEMENT_HEIGHT)+" Z",t.y=t.y-12}return i},e}(n.Association);e.Generalisation=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.layout=function(t,e){if(window.dagre){var i=t.$graphModel,r=new window.dagre.graphlib.Graph;r.setGraph({marginx:100,marginy:20}).setDefaultEdgeLabel(function(){return{}});for(var n=0,o=i.nodes;n<o.length;n++){var s=o[n];r.setNode(s.id,{width:s.getSize().x,height:s.getSize().y})}for(var a=0,l=i.edges;a<l.length;a++){var h=l[a];r.setEdge(h.$sNode.id,h.$tNode.id)}window.dagre.layout(r),r.nodes().forEach(function(t){for(var e=0,n=i.nodes;e<n.length;e++){var o=n[e];o.id===t&&o.withPos(r.node(t).x-r.node(t).width/2,r.node(t).y-r.node(t).height/2)}}),r.edges().forEach(function(t){for(var e=0,n=i.edges;e<n.length;e++){var o=n[e];if(o.$sNode.id===t.v&&o.$tNode.id===t.w){var s=r.edge(t).points.length;o.clearPoints();for(var a=0;a<s;a++){var l=r.edge(t).points[a];o.addPoint(l.x,l.y)}}}})}},t}();e.DagreLayout=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=function(){function t(){}return t.prototype.layout=function(t){var e=t.$graphModel;if(e.nodes)for(var i=0,n=e.nodes;i<n.length;i++){var o=n[i],s=o.getPos();if(0===s.x&&0===s.y){var a=r.Util.getRandomInt(0,t.canvasSize.width),l=r.Util.getRandomInt(0,t.canvasSize.height);o.withPos(a,l)}}},t}();e.Random=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.nodes={},this.edges=[],this.outEdges={},this.inEdges={},this.dummyNodes=[],this.dummyEdges={},this.count=0,this.minRank=Number.POSITIVE_INFINITY,this.maxRank=0,this.maxHeight=0,this.maxWidth=0,this.ranksep=0,this.edgesLabel=[]}return t.prototype.nodeCount=function(){return this.count},t.prototype.node=function(t){return this.nodes[t]},t.prototype.setNode=function(t,e){e&&!this.nodes[t]?(this.nodes[t]=e,this.count=this.count+1):!e&&this.nodes[t]&&delete this.nodes[t]},t}();e.LayoutGraphMin=r;var n=function(){function t(t,e,i,r,n){this.id=t,this.width=e,this.height=i,this.x=r,this.y=n}return t}();e.LayoutGraphNode=n;var o=function(){function t(){}return t}();e.LayoutGraphEdge=o;var s=function(){function t(){}return t.prototype.layout=function(e,i){var o,s,a,l,h,d,p,c,u,f,g,v,y=t.EDGE_KEY_DELIM;a=i.nodes,h=i.edges,o=new r;for(d in a)a.hasOwnProperty(d)&&"function"!=typeof a[d]&&(p=a[d],o.setNode(p.id,new n(p.id,p.getSize().x,p.getSize().y,p.getPos().x,p.getPos().y)));for(d in h)if(h.hasOwnProperty(d)&&"function"!=typeof h[d]){if(v=h[d],f=this.getNodeId(v.$sNode),g=this.getNodeId(v.$tNode),f>g){var m=g;g=f,f=m}var w=f+y+g+y,E=g+y+f+y;f!==g&&o.edgesLabel.indexOf(w)<0&&o.edgesLabel.indexOf(E)<0&&(l={source:f,target:g,minlen:1,weight:1},o.edges.push(l),o.edgesLabel.push(w),o.inEdges[g]||(o.inEdges[g]=[]),o.inEdges[g].push(l),o.outEdges[f]||(o.outEdges[f]=[]),o.outEdges[f].push(l))}this.layouting(o);for(d in a)a.hasOwnProperty(d)&&"function"!=typeof a[d]&&(p=a[d],s=o.node(p.id),c=p.getPos().x,u=p.getPos().y,c<1&&u<1&&p.withPos(Math.ceil(s.x),Math.ceil(s.y)));for(d in h)h.hasOwnProperty(d)&&"function"!=typeof h[d]&&(v=h[d]);e.draw()},t.prototype.getNodeId=function(t){return t.$owner?this.getNodeId(t.$owner)||t.id:t.id},t.prototype.layouting=function(t){this.longestPath(t),this.normalizeRanks(t),this.normalizeEdge(t),this.order(t),t.ranksep=25,this.removeDummy(t),this.position(t)},t.prototype.setSimpleOrder=function(t){var e,i;for(e in t.nodes)i=t.nodes[e],i.order=i.rank},t.prototype.order=function(t){var e,i,r,n,o=Array(t.maxRank+1),s={};for(n=0;n<o.length;n++)o[n]=[];for(i in t.nodes)s[i]||(s[i]=!0,e=t.nodes[i],void 0!==e.rank&&o[e.rank].push(i));for(r in o)for(i in o[r])!1!==o[r].hasOwnProperty(i)&&(t.nodes[o[r][i]].order=parseInt(i));for(r in o)if(o[r].length>1){for(i in o[r])if(!1!==o[r].hasOwnProperty(i)){var a=o[r][i],l=0,h=1,d=t.dummyEdges[a];if(d)for(n in d)if(!1!==d.hasOwnProperty(n)){var p=d[n],c=t.node(p.target);l+=p.weight*c.order,h+=p.weight}t.node(a).barycenter=l/h,t.node(a).weight=h}}else if(o[r].length>0)for(i in o[r]){var u=o[r][i];t.node(u).barycenter=1,t.node(u).weight=1}for(r in o)for(i in o[r])if(!1!==o[r].hasOwnProperty(i)){var f=t.nodes[o[r][i]];f.order=parseInt(i)+f.barycenter*f.weight,isNaN(f.order)&&console.log("ERROR")}},t.prototype.removeDummy=function(t){for(var e in t.dummyNodes){var i=t.dummyNodes[e];t.setNode(i.id,null)}t.dummyNodes=[],t.dummyEdges={}},t.prototype.normalizeEdge=function(t){var e=1;for(var i in t.edges){var r=t.edges[i],o=r.source,s=t.node(o).rank,a=r.target,l=t.node(a).rank,h=void 0;if(l!==s+1){var d=void 0;for(s+=1;s<l;++s){h="_d"+r.source+r.target+e++;var p={source:o,target:h,minlen:1,weight:1};d=new n(h,0,0,0,0),d.edgeObj=r,d.rank=s,t.dummyEdges[o]||(t.dummyEdges[o]=[]),t.dummyEdges[o].push(p),t.dummyNodes.push(d),t.setNode(d.id,d),o=h}}}},t.prototype.longestPath=function(t){var e,i,r=[];for(e in t.nodes)i=t.nodes[e],r.push(e),i.rank=this.findAllPaths(t,i,0,r),t.minRank=Math.min(t.minRank,i.rank)},t.prototype.findAllPaths=function(t,e,i,r){var n,o,s,a=0;if(t.outEdges[e.id]){for(o=0;o<t.outEdges[e.id].length;o++)n=t.outEdges[e.id][o].target,s=t.nodes[n],a=r[n]?Math.min(a,s.rank):r.indexOf(n)<0?Math.min(a,this.findAllPaths(t,s,i-2,r)):i;return a}return i},t.prototype.normalizeRanks=function(t){var e,i=t.minRank;t.maxRank=Number.NEGATIVE_INFINITY,t.maxHeight=0,t.maxWidth=0;for(var r in t.nodes){var n=t.nodes[r];void 0!==n.rank&&(n.rank-=i,e=Math.abs(n.rank),e>t.maxRank&&(t.maxRank=e),t.maxHeight=Math.max(t.maxHeight,n.height),t.maxWidth=Math.max(t.maxWidth,n.width))}},t.prototype.position=function(t){this.positionY(t);var e=this.positionX(t);for(var i in e)for(var r in e[i])!1!==e[i].hasOwnProperty(r)&&t.node(e[i][r])&&(t.node(e[i][r]).x=parseInt(r)*t.maxWidth)},t.prototype.positionY=function(t){var e=this.buildLayerMatrix(t),i=t.ranksep,r=0;for(var n in e){var o=t.maxHeight;for(var s in e[n])if(!1!==e[n].hasOwnProperty(s)){var a=e[n][s];t.nodes[a].y=r+o/2}r+=o+i}},t.prototype.buildLayerMatrix=function(t){for(var e=Array(t.maxRank+1),i=0;i<e.length;i++)e[i]=[];for(var r in t.nodes){var n=t.nodes[r];void 0!==n.rank&&(e[n.rank][n.order]=r)}return e},t.prototype.positionX=function(t){return this.buildLayerMatrix(t)},t.EDGE_KEY_DELIM="",t}();e.DagreLayoutMin=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(4);!function(t){var e;!function(t){t.Clazz="clazz",t.Edge="edge",t.Clear="clear"}(e=t.PropertiesView||(t.PropertiesView={}));var i=function(){function t(t){this.graph=t,this.initMainPanel()}return t.prototype.show=function(t,e){if(this.propertiesContent)for(;this.propertiesContent.hasChildNodes();)this.propertiesContent.removeChild(this.propertiesContent.childNodes[0]);for(var i=t.getPanel().childNodes;i.length>0;)this.propertiesContent.appendChild(i[0]);this.displayingPanel=t,e?t.showTab(e):t.showFirstTab()},t.prototype.openProperties=function(){this.isHidden=!1,document.getElementById("propertiesContent").className="properties",document.getElementById("propertiesMasterPanel").className="propertiespanel";var t=document.getElementById("propClassHeaderButtonDisplay");t.innerHTML="&#8897;",t.title="Hide properties"},t.prototype.setPropertiesHeaderText=function(t){var e=document.getElementById("classPropHeaderLabel");e&&(e.innerHTML=t)},t.prototype.getCurrentView=function(){return this.displayingPanel.getPropertiesView()},t.prototype.getCurrentPanel=function(){return this.displayingPanel},t.prototype.initMainPanel=function(){var t=this;if(!document.getElementById("propertiesMasterPanel")){this.propertiesMasterPanel=document.createElement("div"),this.propertiesMasterPanel.id="propertiesMasterPanel",this.propertiesMasterPanel.className="propertiespanel-hidden",this.propertiesContent=document.createElement("div"),this.propertiesContent.id="propertiesContent",this.propertiesContent.className="properties-hidden";var e=document.createElement("div");e.id="propertiesHeader",e.style.display="inline";var i=document.createElement("div");i.id="classPropHeaderLabel",i.innerHTML="Select any element to see its properties",i.style.display="inherit",i.style.cursor="pointer",i.onclick=function(e){return t.hideproperties(e)};var r=document.createElement("button");r.id="propClassHeaderButtonDisplay",r.title="Show properties",r.className="btnHideProp",r.innerHTML="&#8896;",r.style.cssFloat="right",r.onclick=function(e){return t.hideproperties(e)},e.appendChild(i),e.appendChild(r),this.propertiesMasterPanel.appendChild(e),this.propertiesMasterPanel.appendChild(this.propertiesContent),document.body.appendChild(this.propertiesMasterPanel)}},t.prototype.hideproperties=function(t){if(t.stopPropagation(),!1===this.isHidden){document.getElementById("propertiesContent").className="properties-hidden",document.getElementById("propertiesMasterPanel").className="propertiespanel-hidden";var e=document.getElementById("propClassHeaderButtonDisplay");e.innerHTML="&#8896;",e.title="Show properties"}else{document.getElementById("propertiesContent").className="properties",document.getElementById("propertiesMasterPanel").className="propertiespanel";var e=document.getElementById("propClassHeaderButtonDisplay");e.innerHTML="&#8897;",e.title="Hide properties"}this.isHidden=!this.isHidden},t}();t.BlankView=i;var o=function(){function t(){this.divPropertiesPanel=document.createElement("div"),this.divPropertiesTabbedPanel=document.createElement("div"),this.divPropertiesTabbedPanel.id="propertiesTabbedPanel",this.divPropertiesTabbedPanel.className="tabbedpane",this.divPropertiesPanel.appendChild(this.divPropertiesTabbedPanel)}return t.prototype.getPanel=function(){return this.divPropertiesPanel},t.prototype.showFirstTab=function(){var t=document.getElementsByClassName("tablinks");t&&t.length>0&&this.openTab(t[0].id)},t.prototype.showTab=function(t){for(var e=document.getElementsByClassName("tablinks"),i=0;i<e.length;i++){var r=e[i];r.value===t&&this.openTab(r.id)}},t.prototype.createTabElement=function(t,e,i){var r=this,n=document.createElement("button");return n.id=t,n.className="tablinks",n.innerText=e,n.value=i,n.onclick=function(){return r.openTab(t)},n},t.prototype.openTab=function(t){for(var e=document.getElementsByClassName("tablinks"),i=0;i<e.length;i++)e[i].className=e[i].className.replace("active","");var r=document.getElementById(t);r.className+=" active";for(var n=document.getElementsByClassName("tabcontent"),i=0;i<n.length;i++)n[i].style.display="none";document.getElementById(this.getPropertiesView().toString().toLowerCase()+r.value.toString()).style.display="block"},t}();t.APanel=o;var s=function(t){function i(){return t.call(this)||this}return r(i,t),i.prototype.init=function(){var t=this,e=["boolean","byte","char","double","float","int","long","short","String","void"];this.dataTypes=document.createElement("datalist"),this.dataTypes.id="dataTypes",e.forEach(function(e){var i=document.createElement("option");i.value=e,i.innerHTML=e,t.dataTypes.appendChild(i)}),this.divPropertiesPanel.appendChild(this.dataTypes),this.divPropertiesTabbedPanel.appendChild(this.createTabElement("generalClassPropBtn","General","general")),this.divPropertiesTabbedPanel.appendChild(this.createTabElement("attrClassPropBtn","Attributes","attribute")),this.divPropertiesTabbedPanel.appendChild(this.createTabElement("methodClassPropBtn","Methods","method")),this.createTabGeneralContent(),this.createTabAttrContent(),this.createTabMethodContent()},i.prototype.getPropertiesView=function(){return e.Clazz},i.prototype.createTabGeneralContent=function(){var t=document.createElement("div");t.id=this.getPropertiesView().toString().toLowerCase()+"general",t.className="tabcontent";var e=document.createElement("div");e.className="divTable";var i=document.createElement("div");i.className="divTableBody";var r=document.createElement("div");r.className="divTableRow";var n=document.createElement("div");n.className="divTableCell",n.innerHTML="Name:";var o=document.createElement("div");o.className="divTableCell";var s=document.createElement("input");s.type="text",s.id="className",s.placeholder="Class name",s.style.width="100%",o.appendChild(s),r.appendChild(n),r.appendChild(o),i.appendChild(r);var a=document.createElement("div");a.className="divTableRow";var l=document.createElement("div");l.className="divTableCell",l.innerHTML="Access modifier:";var h=document.createElement("div");h.className="divTableCell";var d=document.createElement("select");d.id="classModifier",d.style.width="100%";var p={};p.public="+",p.private="-",p.protected="#",p.package="~";for(var c in p){var u=document.createElement("option");u.value=c,u.innerHTML=c,d.appendChild(u)}d.value="public",h.appendChild(d),a.appendChild(l),a.appendChild(h),i.appendChild(a),e.appendChild(i),t.appendChild(e),this.divPropertiesPanel.appendChild(t)},i.prototype.createTabAttrContent=function(){this.createtabPropertyContent("attribute")},i.prototype.createTabMethodContent=function(){this.createtabPropertyContent("method")},i.prototype.createtabPropertyContent=function(t){var e=document.createElement("div");e.id=this.getPropertiesView().toString().toLowerCase()+t,e.className="tabcontent";var i=document.createElement("div");i.id=e.id+"Add",i.style.marginTop="5px";var r=document.createElement("select");r.id=e.id+"AddModifier";var n={};n.public="+",n.private="-",n.protected="#",n.package="~";for(var o in n){var s=document.createElement("option");s.value=n[o],s.innerHTML=n[o],s.title=o,r.appendChild(s)}r.value=n.public;var a=document.createElement("input");a.style.marginLeft="5px",a.style.marginRight="5px",a.id=e.id+"AddName",a.type="text",a.placeholder="Add new "+t;var l=document.createElement("input");l.id=e.id+"AddType",l.setAttribute("list",this.dataTypes.id);var h=document.createElement("button");h.id=e.id+"BtnAdd"+t,h.innerHTML="+",h.title="Add "+t,h.style.marginLeft="5px",h.style.color="green",i.appendChild(r),i.appendChild(a),i.appendChild(l),i.appendChild(h),e.appendChild(i),this.divPropertiesPanel.appendChild(e)},i}(o);t.ClassPanel=s;var a=function(t){function i(){return t.call(this)||this}return r(i,t),i.prototype.init=function(){this.divPropertiesTabbedPanel.appendChild(this.createTabElement("generalEdgePropBtn","General","general")),this.createTabGeneralEdgeContent()},i.prototype.getPropertiesView=function(){return e.Edge},i.prototype.createTabGeneralEdgeContent=function(){var t=["0..1","1","0..*"],e=document.createElement("datalist");e.id="cardinalityTypesDataList",t.forEach(function(t){var i=document.createElement("option");i.value=t,i.innerHTML=t,e.appendChild(i)});var i=document.createElement("div");i.id=this.getPropertiesView().toString().toLowerCase()+"general",i.className="tabcontent";var r=document.createElement("div");r.className="divTable";var o=document.createElement("div");o.className="divTableBody";var s=document.createElement("div");s.className="divTableRow";var a=document.createElement("div");a.className="divTableCell",a.innerHTML="Type:";var l=document.createElement("div");l.className="divTableCell";var h=document.createElement("select");h.id="edgeTypeSelect",h.className="col2";var d=[];for(var p in n)"Aggregate"!==p.toString()&&"Direction"!==p.toString()&&d.push(p);d.sort();for(var c=0,u=d;c<u.length;c++){var p=u[c],f=document.createElement("option");f.value=p,f.innerHTML=p,h.appendChild(f)}l.appendChild(h),s.appendChild(a),s.appendChild(l),o.appendChild(s);var g=document.createElement("div");g.className="divTableRow";var v=document.createElement("div");v.className="divTableCell",v.innerHTML="Label:";var y=document.createElement("div");y.className="divTableCell";var m=document.createElement("input");m.type="text",m.id="edgeLabelInput",m.placeholder="Edge label",m.className="col2",m.readOnly=!0,y.appendChild(m),g.appendChild(v),g.appendChild(y),o.appendChild(g);var w=document.createElement("div");w.className="divTableRow";var E=document.createElement("div");E.className="divTableCell",E.innerHTML="Source:";var b=document.createElement("div");b.className="divTableCell";var x=document.createElement("input");x.type="text",x.id="edgeSrcInput",x.placeholder="Edge Source",x.className="col2",x.readOnly=!0,b.appendChild(x),w.appendChild(E),w.appendChild(b),o.appendChild(w);var C=document.createElement("div");C.className="divTableRow";var S=document.createElement("div");S.className="divTableCell",S.innerHTML="Source Property:";var $=document.createElement("div");$.className="divTableCell";var P=document.createElement("input");P.type="text",P.id="edgeSrcProperty",P.placeholder="Add source property",P.className="col2",$.appendChild(P),C.appendChild(S),C.appendChild($),o.appendChild(C);var N=document.createElement("div");N.className="divTableRow";var _=document.createElement("div");_.className="divTableCell",_.innerHTML="Source Cardinality:";var T=document.createElement("div");T.className="divTableCell";var O=document.createElement("input");O.id="inputEdgeSrcCardinality",O.className="col2",O.placeholder="Add source cardinality",O.setAttribute("list",e.id),T.appendChild(O),N.appendChild(_),N.appendChild(T),o.appendChild(N);var L=document.createElement("div");L.className="divTableRow";var A=document.createElement("div");A.className="divTableCell",A.innerHTML="Target:";var M=document.createElement("div");M.className="divTableCell";var I=document.createElement("input");I.type="text",I.id="edgeTargetInput",I.placeholder="Edge Source",I.className="col2",I.readOnly=!0,M.appendChild(I),L.appendChild(A),L.appendChild(M),o.appendChild(L);var z=document.createElement("div");z.className="divTableRow";var k=document.createElement("div");k.className="divTableCell",k.innerHTML="Target Property:";var D=document.createElement("div");D.className="divTableCell";var V=document.createElement("input");V.type="text",V.id="edgeTargetProperty",V.placeholder="Add target property",V.className="col2",D.appendChild(V),z.appendChild(k),z.appendChild(D),o.appendChild(z);var B=document.createElement("div");B.className="divTableRow";var H=document.createElement("div");H.className="divTableCell",H.innerHTML="Target Cardinality:";var U=document.createElement("div");U.className="divTableCell";var R=document.createElement("input");R.id="inputEdgeTargetCardinality",R.className="col2",R.placeholder="Add target cardinality",R.setAttribute("list",e.id),U.appendChild(R),B.appendChild(H),B.appendChild(U),o.appendChild(B),r.appendChild(o),i.appendChild(e),i.appendChild(r),this.divPropertiesPanel.appendChild(i)},i}(o);t.EdgePanel=a;var l=function(t){function i(){return t.call(this)||this}return r(i,t),i.prototype.init=function(){},i.prototype.getPropertiesView=function(){return e.Clear},i}(o);t.ClearPanel=l}(e.PropertiesPanel||(e.PropertiesPanel={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),n=i(0),o=function(){function t(t){this.graph=t}return t.prototype.setActive=function(e){e?r.EventBus.setActiveHandler(t.name):r.EventBus.releaseActiveHandler()},t.prototype.canHandle=function(){return r.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.handle=function(t,e){if(t instanceof DragEvent==!1)return!1;var i=t;if("dragover"===i.type)this.handleDragOver(i);else if("dragleave"===i.type){if(this.graph.$view!==i.target)return!1;this.setBoardStyle("dragleave")}else"drop"===i.type&&this.handleLoadFile(i);return!0},t.prototype.handleLoadFile=function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;if(e.length>1)return void(t.dataTransfer.dropEffect="none");for(var i=new FileReader,r="",n=this,o=0,s=void 0;s=e[o];o++)i.onload=function(t){r=t.target.result,console.log("fileContent: "+r);for(var e=document.getElementById("root"),i=document.getElementById("canvas");e.hasChildNodes();)e.removeChild(e.firstChild);for(;i.hasChildNodes();)i.removeChild(i.firstChild);if(n.graph){n.graph.clearModel();var o=JSON.parse(r);n.graph.load(o),n.graph.layout()}},i.readAsText(s);this.setBoardStyle("dragleave")},t.prototype.handleDragOver=function(t){var e,i,r=!0,n=t.dataTransfer.files;if(n&&n.length>0)for(var o=0;o<n.length;o+=1)i=n[o],0===i.type.indexOf("text")?r=!1:""===i.type&&(e=i.name.toLowerCase(),-1!==e.indexOf("json",e.length-4)&&(r=!1));else{var s=t.dataTransfer.items;if(!(s&&s.length>0))return;for(var a=0;a<s.length;a++)""!==s[a].type&&"text/plain"!==s[a].type||(r=!1)}t.dataTransfer.dropEffect="copy",r?this.dragStyler(t,"Error"):t.ctrlKey?this.dragStyler(t,"Add"):this.dragStyler(t,"Ok")},t.prototype.dragStyler=function(t,e){t.stopPropagation(),t.preventDefault(),this.setBoardStyle(e)},t.prototype.setBoardStyle=function(t){var e=this.graph.$view;return n.Util.removeClass(e,"Error"),n.Util.removeClass(e,"Ok"),n.Util.removeClass(e,"Add"),"dragleave"===t?(e.errorText&&(e.removeChild(e.errorText),e.errorText=null),!0):(n.Util.addClass(e,t),"Error"===t&&(e.errorText||(e.errorText=n.Util.create({tag:"div",style:"margin-top: 30%",value:"NO TEXTFILE"}),e.appendChild(e.errorText)),!0))},t.prototype.handleDragLeave=function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="link",t.target.className="diagram",console.log("handDragLeave")},t}();e.ImportFile=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=function(){function t(t,e){var i,r,n,o,s;if(this.name=t,this.css={},e){s=window.getComputedStyle(e,null),n=s.getPropertyValue("border");for(i in s)o=i,(r=s.getPropertyValue(o))&&""!==r&&(n?"border-bottom"===o||"border-right"===o||"border-top"===o||"border-left"===o?r!==n&&(this.css[o]=r):"border-color"===o||"border-bottom-color"===o||"border-right-color"===o||"border-top-color"===o||"border-left-color"===o?n.substring(n.length-r.length)!==r&&(this.css[o]=r):"border-width"===o?n.substring(0,r.length)!==r&&(this.css[o]=r):this.css[o]=r:this.css[o]=r)}}return t.getStdDef=function(){var t,e=r.Util.create({tag:"defs"});return t=r.Util.create({tag:"filter",id:"drop-shadow"}),t.appendChild(r.Util.create({tag:"feGaussianBlur",in:"SourceAlpha",result:"blur-out",stdDeviation:2})),t.appendChild(r.Util.create({tag:"feOffset",in:"blur-out",dx:2,dy:2})),t.appendChild(r.Util.create({tag:"feBlend",in:"SourceGraphic",mode:"normal"})),e.appendChild(t),t=r.Util.create({tag:"linearGradient",id:"reflect",x1:0,x2:0,y1:"50%",y2:0,spreadMethod:"reflect"}),t.appendChild(r.Util.create({tag:"stop","stop-color":"#aaa",offset:0})),t.appendChild(r.Util.create({tag:"stop","stop-color":"#eee",offset:"100%"})),e.appendChild(t),t=r.Util.create({tag:"linearGradient",id:"classelement",x1:0,x2:"100%",y1:"100%",y2:0}),t.appendChild(r.Util.create({tag:"stop","stop-color":"#fff",offset:0})),t.appendChild(r.Util.create({tag:"stop","stop-color":"#d3d3d3",offset:1})),e.appendChild(t),e},t.getSubstring=function(t,e,i,r,n){var o,s,a=0,l=[];if((o=t.indexOf(e))>0){if(s=t.indexOf(i,o),o=s+1,s>0){for(;s<t.length;){if(t.charAt(s)===i&&(a+=1),t.charAt(s)===r&&0===(a-=1)){n&&o!==s&&l.push(t.substring(o,s).trim());break}t.charAt(s)===n&&1===a&&(l.push(t.substring(o,s).trim()),o=s+1),s+=1}return n?l:t.substring(o,s)}return t.substring(o)}return""},t.addStyle=function(e,i){var n,o,s;(i.baseVal||""===i.baseVal)&&(i=i.baseVal),i&&(n=t.getDefs(e),n.getElementsByTagName("style").length>0?o=n.getElementsByTagName("style")[0]:(o=r.Util.create({tag:"style"}),o.item={},n.appendChild(o)),o.item[i]||(s=r.Util.getStyle(i),o.item[i]=s,o.innerHTML=o.innerHTML+"\n."+i+s.getSVGString(e)))},t.addStyles=function(e,i){if(i){var r,n,o=i.className;if(o&&(o.baseVal||""===o.baseVal)&&(o=o.baseVal),o)for(r=o.split(" "),n=0;n<r.length;n+=1)t.addStyle(e,r[n].trim());for(n=0;n<i.childNodes.length;n+=1)this.addStyles(e,i.childNodes[n])}},t.getDefs=function(t){var e;return t.getElementsByTagName("defs").length<1?(e=r.Util.create({tag:"defs"}),t.insertBefore(e,t.childNodes[0])):e=t.getElementsByTagName("defs")[0],e},t.prototype.add=function(t,e){this.css[t]=e},t.prototype.get=function(t){var e;for(e in this.css)if(e===t)return this.css[t];return null},t.prototype.getNumber=function(t){return parseInt((this.get(t)||"0").replace("px",""),10)},t.prototype.getSVGString=function(e){var i,n,o,s,a,l,h;i="{";for(o in this.css)if(this.css.hasOwnProperty(o))if("border"===o)n=this.css[o].indexOf(" "),i=i+"stroke-width: "+this.css[o].substring(0,n)+";",n=this.css[o].indexOf(" ",n+1),i=i+"stroke:"+this.css[o].substring(n)+";";else if("background-color"===o)i=i+"fill: "+this.css[o]+";";else if("background"===o){if(a=t.getSubstring(this.css[o],"linear-gradient","(",")",","),a.length>0){for(s=t.getDefs(e),"45deg"===a[0]?(n=1,l=r.Util.create({tag:"linearGradient",id:this.name,x1:"0%",x2:"100%",y1:"100%",y2:"0%"})):(l=r.Util.create({tag:"linearGradient",id:this.name,x1:"0%",x2:"0%",y1:"100%",y2:"0%"}),n=0),s.appendChild(l);n<a.length;)a[n]=a[n].trim(),h=a[n].lastIndexOf(" "),l.appendChild(r.Util.create({tag:"stop",offset:a[n].substring(h+1),style:{"stop-color":a[n].substring(0,h)}})),n+=1;i=i+"fill: url(#"+this.name+");";continue}i=i+o+": "+this.css[o]+";"}else i=i+o+": "+this.css[o]+";";return i+="}"},t}();e.CSS=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"onUpdate",{get:function(){return this.$onUpdate},set:function(t){this.$onUpdate=t},enumerable:!0,configurable:!0}),t.prototype.update=function(t){this.$onUpdate(t)},t}();e.default=r},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(t,e){this.createControl(this.$owner,t)},e.prototype.createControl=function(t,e){if(this.id="string"==typeof e?e:e.id,this.$view=document.createElement("button"),e instanceof Object)for(var i in e)e.hasOwnProperty(i)&&this.$view.setAttribute(i,e[i]);t.appendChild(this)},e}(n.Control);e.Button=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children={},e}return r(e,t),e.prototype.load=function(t){var e;if(e="string"==typeof t?t:t.id){this.id=e;var i=document.getElementById(e);if(i instanceof HTMLFormElement)this.$view=i,this.$view.hasAttribute("property")&&(this.property=this.$view.getAttribute("property"));else{if(i)return;this.$view=document.createElement("form"),this.$view.setAttribute("id",this.id),t.hasOwnProperty("property")&&(this.property=t.property);for(var r in t)!1!==t.hasOwnProperty(r)&&"elements"!==r&&this.$view.setAttribute(r,t[r]);this.$owner.appendChild(this)}var n=this.property;if(this.$owner.hasItem(n)){var o=this.$owner.getItem(n);o.addListener(this),this.$model=o}for(var s=0,a=t.elements;s<a.length;s++){var l=a[s];if(l.hasOwnProperty("property")){var h=l.property;h=this.property+"."+h,l.property=h}l.hasOwnProperty("class")||(l.class="input");var d=this.$owner.load(l,this);this.children[d.getId()]=d}}},e.prototype.setProperty=function(t){this.property=t;for(var e=Object.keys(this.children),i=0;i<e.length;i++){var r=e[i],n=this.children[r];n.property&&n.setProperty(this.property+"."+n.lastProperty)}},Object.defineProperty(e.prototype,"lastProperty",{get:function(){return this.property.split(".")[0]},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,i,r,n){return null!=this.$owner?this.getRoot().setValue(e,i,r,n):t.prototype.setValue.call(this,e,i,r,n)},e}(n.Control);e.Form=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(36),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initViewDataProperties=function(e){var i=t.prototype.initViewDataProperties.call(this,e);return"checkbox"!==this.type&&"radio"!==this.type||i.addFrom("checked",e),i.addFrom("value",e),i.addFrom("type",e),i},e.prototype.load=function(t){var e,i,r;if("string"==typeof t?(e=t,r=!0):(e=t.id,t.type?this.setType(t.type):this.setType("text"),t.hasOwnProperty("property")&&this.setProperty(t.property),r=!1),e)if(this.id=e,i=document.getElementById(e),r&&i&&i.hasAttribute("Property")&&this.setProperty(i.getAttribute("Property")),i instanceof HTMLInputElement)this.setView(i),this.type=i.type;else{if(i)return;if(this.setView(document.createElement("input")),this.$viewData=this.initViewDataProperties(this.$viewData),"string"!=typeof t)for(var n in t)!1!==t.hasOwnProperty(n)&&this.$viewData.setValue(n,t[n]);else this.type&&this.$view.setAttribute("type",this.type),t.hasOwnProperty("class")&&this.$view.setAttribute("class",t.class),this.$view.setAttribute("id",this.id),this.$view.setAttribute("property",this.property);t.value&&this.$model&&this.$model.setValue(this.lastProperty,t.value),this.$model&&o.PropertyBinder.bind(this.$viewData,this.$model,"value",this.lastProperty),this.$owner.appendChild(this)}},e.prototype.addItem=function(t,e){this.property&&e&&e.id===this.property.split(".")[0]&&(this.$model=e,o.PropertyBinder.bind(this.$viewData,this.$model,"value",this.lastProperty))},e.prototype.controlChanged=function(e){if(this.$view instanceof HTMLInputElement!=!1){this.$view.checkValidity()&&t.prototype.controlChanged.call(this,e)}},e.prototype.setType=function(t){this.type!==t&&("radio"===t?this.$viewData.setValue("checked",null):this.$viewData.removeKey("checked"))},e}(n.Control);e.Input=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,i,r){this.applyingChange=!1,this.data1=t,this.data2=e,this.propertyClass1=i,this.propertyClass2=r}return t.bind=function(e,i,r,n){if(!e||!i||!r)return console.error("NullValue!!"),null;var o=new t(e,i,r,n);return o.bind(),o},t.prototype.propertyChange=function(t,e,i,r){this.applyingChange||(this.applyingChange=!0,t===this.data1?this.data2.setValue(this.propertyClass2,r):t===this.data2&&this.data1.setValue(this.propertyClass1,r),this.applyingChange=!1)},t.prototype.bind=function(){this.data1.setValue(this.propertyClass1,this.data2.getValue(this.propertyClass2)),this.data1.addListener(this,this.propertyClass1),this.data2.addListener(this,this.propertyClass2)},t.prototype.unbind=function(){this.data1.removeListener(this,this.propertyClass2),this.data1.removeListener(this,this.propertyClass2)},t}();e.PropertyBinder=r},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(38),s=i(7),a=i(0),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.columns=[],e.cells={},e.showedItems=[],e.itemsIds={},e.searchColumns=[],e.searchText=[],e.moveElement=null,e.isDrag=!1,e}return r(e,t),Object.defineProperty(e.prototype,"lastProperty",{get:function(){return this.property.split(".")[0]},enumerable:!0,configurable:!0}),e.indexOfChild=function(t){for(var e=0,i=t.gui;null!==(i=i.previousSibling);)e++;return e},e.prototype.load=function(t){var e;if("string"==typeof t)e=t;else if(e=t.id,t.property&&(this.property=t.property),t.searchColumns){var i=[];i="string"==typeof t.searchColumns?t.searchColumns.split(" "):t.searchColumns;for(var r=0;r<i.length;r++){var n=i[r].trim();n.length>0&&this.searchColumns.indexOf(n)<0&&this.searchColumns.push(n)}}if(e)if(this.$view){if(t.columns){for(var o in t.columns)if(!1!==t.columns.hasOwnProperty(o)){var s=this.parseData(t.columns[o]);this.addHeaderInfo(s),this.columns.push(s),this.tableOption.parentElement.insertBefore(s.$element,this.tableOption)}for(var o in this.showedItems){for(var n=this.showedItems[o],a=void 0;n.gui.children.length<this.columns.length;)a=document.createElement("td"),n.gui.appendChild(a);for(;n.gui.children.length>this.columns.length;)n.gui.removeChild(n.gui.children[n.gui.children.length-1]);for(var l=0;l<this.columns.length;l++){var h=this.columns[l].attribute;a=n.gui.children[l],a.innerHTML=n.model.getValue(h)}}}}else{this.$view=document.getElementById(e);var d;this.$view?this.property||(this.property=this.$view.getAttribute("property")):(this.$view=document.createElement("table"),this.$owner.appendChild(this)),this.$bodysection||(this.$bodysection=document.createElement("tbody"),this.$view.appendChild(this.$bodysection)),t.classname?this.$view.className=t.classname:this.$view.className="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp",this.id=e,this.$view.id=e,this.$view.setAttribute("type",this.constructor.name.toLowerCase());for(var p=0,l=0;l<this.$view.children.length;l++){var c=this.$view.children[l];if(c instanceof HTMLTableSectionElement)if("THEAD"===c.tagName){d=c;for(var u=c.children,o=0;o<u.length;o++)this.parsingHeader(c.children[o])}else for(var u=c.children,o=0;o<u.length;o++)this.parsingData(c.children[o]);else 0===p?(d=c,this.parsingHeader(c)):this.parsingData(c);p++}if(!d||!this.$headersection){if(!this.$headersection){var f=this.$view.getElementsByTagName("thead");0===f.length?(this.$headersection=document.createElement("thead"),this.$view.appendChild(this.$headersection)):this.$headersection=f.item(0)}d||(d=document.createElement("tr"),this.$headersection.appendChild(d))}if(t.columns){for(var o in t.columns)if(!1!==t.columns.hasOwnProperty(o)){var s=this.parseData(t.columns[o]);this.addHeaderInfo(s),this.columns.push(s),d.appendChild(s.$element)}this.tableOption=document.createElement("th"),this.tableOption.classList.add("tableOption"),d.appendChild(this.tableOption);var g=this.addOptionItem(null,this.tableOption,!0),v=this.addOptionItem("show",g,!0);this.addOptionItem("show",v,!1)}this.registerEvents(["mousemove","mousedown","mouseup","resize","dragstart","dragover","drop","dragend"]);var y=document.createElement("tr"),m=document.createElement("td");m.setAttribute("colspan",""+this.columns.length),y.appendChild(m);var w=document.createElement("input");w.className="search";var E=this;if(w.addEventListener("keyup",function(t){E.search(t.target.value)}),m.appendChild(w),this.resultColumn)if(0!==this.resultColumn.indexOf("#"))this.countElement=document.createElement("div"),y.appendChild(this.countElement);else for(var r=0;r<this.$headersection.children.length;r++)if(this.$headersection.children[r].innerHTML===this.resultColumn){this.countColumn=this.$headersection.children[r],this.countColumnPos=r;break}var b=this.$headersection.children.item(0);this.$headersection.insertBefore(y,b),this.updateElement(this.property,null)}},e.prototype.tableEvent=function(t,e){var i=0,r=0;if(e instanceof MouseEvent&&(i=e.buttons,r=e.pageX),"mouseup"===t)this.moveElement=null;else if("mousedown"===t||"resize"===t)if(this.moveElement=null,1===i){var n=void 0;for(n=0;n<this.columns.length;n++){if(this.columns[n].$resize===e.target){this.moveElement=this.columns[n],this.movePos=n,this.isDrag=!1;break}this.columns[n].$element===e.target&&(this.moveElement=this.columns[n],this.movePos=n,this.isDrag=!0)}this.moveTimeStamp=e.timeStamp,this.moveX=r}else this.moveTimeStamp=0;else if("mousemove"===t){if(1===i&&this.moveElement){if(this.moveTimeStamp&&e.timeStamp-this.moveTimeStamp<2e3)if(this.isDrag);else{var o=r-this.moveX,s=this.moveElement.$element.offsetWidth;this.moveElement.$element.width=""+(s+o),e.stopPropagation()}this.moveX=r,this.moveTimeStamp=e.timeStamp}}else this.isDrag&&this.columnDragEvent(t,e)},e.prototype.parsingHeader=function(t){for(var e in t.children)if(!1!==t.children.hasOwnProperty(e)){var i=t.children[e],r=i.innerHTML.trim(),n=null;for(var o in this.columns)if(!1!==this.columns.hasOwnProperty(e)&&this.columns[o].label===r){n=this.columns[o],n.$element=i;break}null===n&&(n=new h,n.label=r,n.attribute=i.getAttribute("attribute"),n.$element=i,this.columns.push(n)),this.addHeaderInfo(n)}},e.prototype.parsingData=function(t){var e=t.getAttribute("id"),i=this.$owner.getItem(e);for(var r in t.children)if(!1!==t.children.hasOwnProperty(r)){var n=t.children[r],o=this.columns[r].attribute;o.indexOf(".")<0&&(i[o]=n.innerHTML.trim())}},e.prototype.propertyChange=function(t,e,i,r){if((!t||!this.property||t.hasProperty(e))&&void 0!==t.id){var n,s=this.itemsIds[t.id];if(s||(s=new o.default(t),this.items.push(s),this.itemsIds[t.id]=s),n=this.cells[t.id],n&&(s.gui=n),!1!==this.searching(s)){var a,l=!1;if(!n){l=!0,n=document.createElement("tr");for(var h=this.columns.length,d=0;d<h;d++)a=document.createElement("td"),n.appendChild(a);this.cells[t.id]=n,s.gui=n}for(var p=0;p<this.columns.length;p++){this.columns[p].attribute===e&&(a=n.children[p],a.innerHTML=r)}l&&this.showItem(s,!0)}}},e.prototype.sort=function(t){this.sortColumn===t?1===this.direction?(this.direction=-1,t.$element.classList.remove("asc"),t.$element.classList.add("desc")):(this.direction=1,t.$element.classList.remove("desc"),t.$element.classList.add("asc")):(null!==this.sortColumn&&(this.sortColumn.$element.classList.remove("desc"),this.sortColumn.$element.classList.remove("asc")),this.sortColumn=t,this.sortColumn.$element.classList.add("asc"),this.direction=1);var i=this,r=function(t,e){return i.sorting(t,e)};this.showedItems.sort(r);for(var n=this.showedItems.length,o=this.$bodysection,s=0;s<n;){var a=this.showedItems[s];if(s!==e.indexOfChild(a))break;s+=1}for(;o.children.length>s;)o.removeChild(o.children.item(o.children.length-1));for(;s<n;){var a=this.showedItems[s];o.appendChild(a.gui),s+=1}},e.prototype.sorting=function(t,e){for(var i=this.sortColumn.attribute.split("."),r=t.model.prop,n=e.model.prop,o=this.sortColumn.attribute,s=0;s<i.length;s++){if(o=i[s],!r[o])return 0;if(r=r[o],!n[o])return 0;n=n[o]}return r!==n?1===this.direction?r<n?-1:1:r<n?1:-1:0},e.prototype.search=function(t){t||(t="");var e=t.trim().toLowerCase();if(e!==this.lastSearchText||""===e){var i=this.lastSearchText;this.lastSearchText=e,this.parseSearchArray(),""!==e&&null!==i&&e.indexOf(i)>=0&&e.indexOf("|")<0?this.searchArray(this.showedItems):this.searchSet(this.items),this.refreshCounter()}},e.prototype.refreshCounter=function(){this.countColumn&&(this.countColumn.innerHTML=this.columns[this.countColumnPos].label+" ("+this.showedItems.length+")")},e.prototype.parseSearchArray=function(){for(var t=0,e=[],i=!1,r=0;r<this.lastSearchText.length;r++)if(" "!==this.lastSearchText.charAt(r)||i){if('"'===this.lastSearchText.charAt(r)){if(i){var n=this.lastSearchText.substring(t,r).trim();n.length>0&&e.push(n),t=r+1}else t=r+1;i=!i}}else{var n=this.lastSearchText.substring(t,r).trim();n.length>0&&e.push(n),t=r+1}return t<this.lastSearchText.length&&e.push(this.lastSearchText.substring(t,this.lastSearchText.length).trim()),this.searchText=e,e},e.prototype.searchArray=function(t){this.showedItems=[];for(var e=0;e<t.length;e++){var i=t[e];this.showItem(i,this.searching(i))}},e.prototype.searchSet=function(t){this.showedItems=[];for(var e=0,i=t;e<i.length;e++){var r=i[e],n=r;this.showItem(n,this.searching(n))}},e.prototype.showItem=function(t,e){e?(this.showedItems.push(t),this.$bodysection.appendChild(t.gui)):t.gui&&t.gui.parentElement&&this.$bodysection.removeChild(t.gui)},e.prototype.searching=function(t){for(var e="",i=0;i<this.searchColumns.length;i++)e=e+" "+t.model.getValue(this.searchColumns[i]);e=e.trim().toLowerCase();for(var r=0;r<this.searchText.length;r++)if(""!==this.searchText[r]){var n=void 0;n=this.searchText[r].indexOf("|")>0?this.searchText[r].split("|"):[this.searchText[r]];for(var o=0;o<n.length;o++){var s=n[o].indexOf(":");if(0===n[o].indexOf("#")&&s>1){var a=n[o].substring(s+1),l=n[o].substring(1,s-1),h=t.model.getValue(l);if(h&&h.toString().toLowerCase().indexOf(a)>=0)break}else if(n[o].length>1&&0===n[o].indexOf("-")){if(e.indexOf(n[o].substring(1))<0)break}else if(e.indexOf(n[o])>=0)break}if(o===n.length)return!1}return!0},e.prototype.getColumn=function(){return this.columns},e.prototype.updateElement=function(t,e){for(var i=0,r=this.items;i<r.length;i++){var n=r[i];n instanceof o.default&&n.model.removeListener(this)}if(this.items=[],this.itemsIds={},void 0!==this.property){var a=this.$owner.getItems();for(var l in a)if(a.hasOwnProperty(l)){var n=a[l];if(n instanceof s.default&&t===l){var h=new o.default(n);this.items.push(h),this.itemsIds[n.id]=h}}this.redrawAllElements()}},e.prototype.setValue=function(e,i,r,n){return null!==this.$owner?this.getRoot().setValue(e,i,r,n):t.prototype.setValue.call(this,e,i,r,n)},e.prototype.redrawAllElements=function(){for(var t=this.$bodysection.children,e=0;e<t.length;e++){var i=t.item(e);this.$bodysection.removeChild(i)}for(var r=0,n=this.items;r<n.length;r++){var o=n[r];o.model.addListener(this);var s=this.createRow(o);this.$bodysection.appendChild(s),this.cells[o.id]=s}},e.prototype.parseData=function(t){var e=new h;return e.label=t.label||t.id,e.attribute=t.attribute||t.label||t.id,e.$element=document.createElement("th"),e.$element.innerHTML=e.label,e.$element.draggable=!0,e.$resize=document.createElement("div"),e.$resize.classList.add("resize"),e.$element.appendChild(e.$resize),e},e.prototype.createRow=function(t){for(var e=document.createElement("tr"),i=0,r=this.columns;i<r.length;i++){var n=r[i],o=document.createElement("td");e.appendChild(o),o.innerHTML=t.model.getValue(n.attribute)}return e},e.prototype.addHeaderInfo=function(t){var e=t.$element,i=this;e.classList.add("sort"),e.addEventListener("click",function(){i.sort(t)},!1)},e.prototype.columnDragEvent=function(t,e){if("dragstart"===t)this.moveElement.$element.style.opacity="0.4",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/json",JSON.stringify(a.Util.toJson(this.moveElement)));else if("dragenter"===t);else if("dragleave"===t)this.moveElement.$element.classList.remove("over");else if("dragover"===t){e.preventDefault&&e.preventDefault();for(var i=0;i<this.columns.length;i++)this.columns[i].$element===e.target?(this.dragColumn=this.columns[i],this.dragPos=i,this.columns[i].$element.classList.add("over")):this.columns[i].$element.classList.remove("over");e.target===this.tableOption?(this.tableOption.classList.add("over"),this.dragPos=this.columns.length):this.tableOption.classList.remove("over"),e.dataTransfer.dropEffect="move"}else if("drop"===t){if(e.stopPropagation&&e.stopPropagation(),this.movePos===this.dragPos)return;this.columns.splice(this.movePos,1),this.movePos>=this.dragPos?this.columns.splice(this.dragPos,0,this.moveElement):this.columns.splice(this.dragPos-1,0,this.moveElement);var r=this.moveElement.$element.parentElement;r.removeChild(this.moveElement.$element),this.dragPos<this.columns.length?r.insertBefore(this.moveElement.$element,this.dragColumn.$element):r.insertBefore(this.moveElement.$element,this.tableOption);for(var n=void 0,o=void 0,s=0;s<this.$bodysection.children.length;s++)r=this.$bodysection.children.item(s),n=r.children.item(this.movePos),o=r.children.item(this.dragPos),r.removeChild(n),r.insertBefore(n,o)}else if("dragend"===t){this.moveElement.$element.style.opacity="1";for(var s=0;s<this.columns.length;s++)this.columns[s].$element.classList.remove("over");this.tableOption.classList.remove("over")}},e.prototype.addOptionItem=function(t,e,i){var r;if(t&&(r=document.createElement("a"),r.appendChild(document.createTextNode(t)),r.href="javascript:void(0);",e.appendChild(r)),i){var n=document.createElement("div");return n.classList.add("dropdown-content"),n.style.setProperty("position","absolute"),e.appendChild(n),e.addEventListener("click",function(){n.classList.toggle("show")},!1),n}return r},e.prototype.registerEvents=function(t){for(var e=this,i=this,r=0;r<t.length;r++)!function(r){i.$view.addEventListener(t[r],function(i){return e.tableEvent(t[r],i)})}(r)},e}(n.Control);e.Table=l;var h=function(){function t(){}return t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(e){this.model=e,this.id=e.id,t.elementSet.push(this)}return t.elementSet=[],t}();e.default=r},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(t){function e(e){var i,r,n=t.call(this)||this;if("string"==typeof e?(i=e,e={}):i=e.id,i&&(n.id=i,n.$view=document.getElementById(i)),!n.$view){r=e.tag||"div",n.$view=document.createElement(r);document.getElementsByTagName("body")[0].appendChild(n.$view)}return parent?(n.writeAttribute(e,n.$view),n):n}return r(e,t),e.prototype.writeAttribute=function(t,e){var i;e||(i=t.tag||"div",e=document.createElement(i));for(var r in t)if(t.hasOwnProperty(r))if(i=r.toLowerCase(),null!==t[r]){if("tag"!==i&&"$"!==i.charAt(0)&&"$graphModel"!==i&&"class"!==i)if("children"!==i)e[r]=t[r];else if(Array.isArray(t[r])){for(var n in t[r])if(!1!==t[r].hasOwnProperty(n)){var o=this.writeAttribute(n);o&&e.appendChild(o)}}else{var o=this.writeAttribute(t[r]);o&&e.appendChild(o)}}else e.setAttribute(r,"");return e},e}(n.Control);e.HTML=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=function(t){function e(e){var i=t.call(this,e)||this;return i.max=6,i.$zoom=.6,i.$border=.2,i.withSize(100,100),i}return r(e,t),e.prototype.setNumber=function(t){this.value=t,this.refresh()},e.prototype.refresh=function(){if(this.$view){this.reset();var t=this.createPointValue();t&&this.$view.appendChild(t)}},e.prototype.reset=function(){if(this.$view)for(;this.$view.children.length>1&&"animateTransform"!==this.$view.children.item(this.$view.children.length-1).tagName;)console.log(this.$view.children.item(this.$view.children.length-1)),this.$view.removeChild(this.$view.children.item(this.$view.children.length-1))},e.prototype.getSVG=function(){var t=this.getPos(),e=this.getSize(),i=this.createShape({tag:"g"}),r={tag:"rect",x:t.x+e.x*this.$border,y:t.y+e.y*this.$border,rx:4,ry:4,height:e.y*this.$zoom,width:e.x*this.$zoom,style:"fill:white;stroke:black;stroke-width:2"};i.appendChild(this.createShape(r));var n=this.createPointValue();return n&&i.appendChild(n),this.$view=i,i},e.prototype.animationTimeout=function(t){if(t.length>0){var e=t.shift();this.setNumber(e);var i=this;setTimeout(function(){i.animationTimeout(t)},100)}},e.prototype.roll=function(){this.startAnimation();var t,e=[];for(t=1;t<this.max;t++)e.push(t);for(t=this.max;t>0;t--)e.push(t);var i=this;e.push(Math.floor(Math.random()*this.max)+1),setTimeout(function(){i.animationTimeout(e)},100)},e.prototype.startAnimation=function(){if(!this.$animation){var t=this.getPos().x+this.getSize().x/2,e={tag:"animateTransform",attributeType:"xml",attributeName:"transform",type:"rotate",dur:"1s",repeatCount:"1",from:"0 "+t+" "+t,to:"360 "+t+" "+t};this.$animation=this.createShape(e),this.$view.appendChild(this.$animation)}},e.prototype.stopAnimation=function(){this.$animation&&(this.$view.removeChild(this.$animation),this.$animation=null)},e.prototype.createPointValue=function(){return 1==this.value?this.getCircle(2,2):2==this.value?this.getCircle(1,1,3,3):3==this.value?this.getCircle(1,1,2,2,3,3):4==this.value?this.getCircle(1,1,1,3,3,1,3,3):5==this.value?this.getCircle(1,1,1,3,2,2,3,1,3,3):6==this.value?this.getCircle(1,1,1,2,1,3,3,1,3,2,3,3):7==this.value?this.getCircle(1,1,1,2,1,3,2,2,3,1,3,2,3,3):8==this.value?this.getCircle(1,1,1,2,1,3,2,1,2,3,3,1,3,2,3,3):9==this.value?this.getCircle(1,1,1,2,1,3,2,1,2,2,2,3,3,1,3,2,3,3):null},e.prototype.getCircle=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length%2>0)return null;for(var i=(this.getSize(),this.getPos(),this.createShape({tag:"g"})),r=0;r<t.length;r+=2)i.appendChild(this.createCircle(t[r],t[r+1]));return i},e.prototype.createCircle=function(t,e){var i=this.getSize(),r=i.x/10*this.$zoom,n=i.y*this.$border,o=(i.y,this.$zoom,{tag:"circle",r:r,cx:i.x*this.$zoom*t/4+n,cy:i.y*this.$zoom*e/4+n,stroke:"black","stroke-width":"3",fill:"red",style:"fill:black;stroke:black;stroke-width:2"});return this.createShape(o)},e}(n.Node);e.Dice=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),o=function(t){function e(e){var i=t.call(this,e)||this;return i.$ABSTRACT="Abstract",i.$defaulEdgeType="Generalisation",i.setStereoTyp(i.$ABSTRACT),i}return r(e,t),e}(n.StereoType);e.Abstract=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(22),o=function(t){function e(e){var i=t.call(this,e)||this;return i.$INTERFACE="Interface",i.$defaulEdgeType="Implements",i.setStereoTyp(i.$INTERFACE),i}return r(e,t),e}(n.StereoType);e.Interface=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(24),o=function(t){function e(){var e=t.call(this)||this;return e.id="JavaAdapter",e}return r(e,t),e.prototype.update=function(t){return!!this.isActive()&&(window.JavaBridge.executeChange(t),!0)},e.prototype.isActive=function(){return window.JavaBridge},e}(n.Adapter);e.JavaAdapter=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),s=i(6),a=i(3),l=function(t){function e(e){var i=t.call(this,e)||this;i.cardinality="","string"==typeof e?i.id=e:(e.property&&(i.property=e.property),e.cardinality&&(i.cardinality=e.cardinality)),i.$isDraggable=!0;var r=i.calcSize();return i.withSize(r.x,r.y),i}return r(e,t),e.prototype.calcSize=function(){var t=this.getText(),e=t.split("\n"),i=new n.Point(0,0);if(0===t.length)return i;for(var r=0;r<e.length;r+=1){var s=o.Util.sizeOf(e[r]);i.x=Math.max(i.x,s.width),i.y+=s.height,this.$heightOfOneTextItem=s.height}return i},e.prototype.updateCardinality=function(t){this.cardinality=t;var e=this.calcSize();if(this.withSize(e.x,e.y),this.$rectBackground&&(this.$rectBackground.setAttributeNS(null,"width",""+e.x),this.$rectBackground.setAttributeNS(null,"height",""+e.y)),!this.$view){var i=this.getSVG();return void this.$owner.$view.appendChild(i)}if(0===t.length&&this.property.length>0||!this.$cardinalitySvg){this.$owner.$view.removeChild(this.$view),this.resetAllSvgElements();var i=this.getSVG();return void this.$owner.$view.appendChild(i)}return this.$cardinalitySvg?(this.$cardinalitySvg.textContent=t,void(this.$rectBackground&&(this.$rectBackground.setAttributeNS(null,"width",""+e.x),this.$rectBackground.setAttributeNS(null,"height",""+e.y)))):0==this.property.length?(this.$owner.$view.removeChild(this.$view),void this.resetAllSvgElements()):void 0},e.prototype.resetAllSvgElements=function(){this.$cardinalitySvg=void 0,this.$view=void 0,this.$propertySvg=void 0},e.prototype.updateProperty=function(t){this.property=t;var e=this.calcSize();if(this.withSize(e.x,e.y),!this.$view){var i=this.getSVG();return void this.$owner.$view.appendChild(i)}if(0===t.length&&this.cardinality.length>0||!this.$propertySvg){this.$owner.$view.removeChild(this.$view),this.resetAllSvgElements();var i=this.getSVG();return void this.$owner.$view.appendChild(i)}if(this.$propertySvg)return this.$propertySvg.textContent=t,void(this.$rectBackground&&(this.$rectBackground.setAttributeNS(null,"width",""+e.x),this.$rectBackground.setAttributeNS(null,"height",""+e.y)));0==this.cardinality.length&&(this.$owner.$view.removeChild(this.$view),this.resetAllSvgElements())},e.prototype.getSVG=function(){var t=this.getPos(),e=o.Util.create({tag:"g",class:"SVGEdgeInfo",transform:"translate(0, 0)"});this.$rectBackground=o.Util.createShape({tag:"rect",x:t.x,y:t.y-this.$heightOfOneTextItem+3,width:this.getSize().x,height:this.getSize().y,fill:"#DDD","stroke-width":0,rx:"5",ry:"5"}),e.appendChild(this.$rectBackground);var i=t.y;return this.property&&(this.$propertySvg=o.Util.createShape({tag:"text",x:t.x+3,y:i,"text-anchor":"left"}),this.$propertySvg.textContent=this.property,e.appendChild(this.$propertySvg),i+=this.$heightOfOneTextItem),this.cardinality&&(this.$cardinalitySvg=o.Util.createShape({tag:"text",x:t.x+3,y:i,"text-anchor":"left"}),this.$cardinalitySvg.textContent=this.cardinality,e.appendChild(this.$cardinalitySvg)),this.$view=e,e},e.prototype.isEmpty=function(){var t=this.cardinality&&this.cardinality.length>0;return!(this.property&&this.property.length>0||t)},e.prototype.redrawFromEdge=function(t){if(t){var e=this.getPos(),i=new n.Point;i.x=t.x-e.x,i.y=t.y-e.y;var r=this.$view.getAttributeNS(null,"transform").slice(10,-1).split(" "),o=parseInt(r[0]),s=0;r.length>1&&(s=parseInt(r[1]));var a=o+i.x,l=s+i.y;this.$view.setAttributeNS(null,"transform","translate("+a+" "+l+")"),this.getPos().x=t.x,this.getPos().y=t.y}},e.prototype.getText=function(){var t="";return this.property&&(t=this.property),this.cardinality&&(t.length>0&&(t+="\n"),t+=this.cardinality),t},e.prototype.getEvents=function(){return[a.EventBus.ELEMENTCLICK,a.EventBus.ELEMENTDBLCLICK,a.EventBus.OPENPROPERTIES]},e}(s.Node);e.InfoText=l},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(11),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getSVG=function(){var e=this.$points[0],i=this.getDirectionOfPointToNode(this.$sNode,e),r=this.calcCorrectPath(e,i),n=t.prototype.getSVG.call(this),o={tag:"path",d:r};return this.$diamond=this.createShape(o),n.appendChild(this.$diamond),n},e.prototype.redraw=function(e,i){t.prototype.redraw.call(this,e,!0);var r=this.$points[0],n=1;if(this.$sNode.id===e.id||2==this.$points.length){n=this.getDirectionOfPointToNode(this.$sNode,r);var o=this.calcCorrectPath(r,n);this.$diamond.setAttributeNS(null,"d",o)}this.redrawPointsAndInfo()},e.prototype.calcCorrectPath=function(t,e){var i,r=t.x,n=t.y;switch(e){case 0:i="M"+r+" "+n+" L"+(r+6)+" "+(n+10)+" L"+r+" "+(n+20)+" L"+(r-6)+" "+(n+10)+" Z",t.y=t.y+20;break;case 3:i="M"+r+" "+n+" L"+(r-10)+" "+(n+6)+" L"+(r-20)+" "+n+" L"+(r-10)+" "+(n-6)+" Z",t.x=t.x-20;break;case 2:i="M"+r+" "+n+" L"+(r+10)+" "+(n-6)+" L"+(r+20)+" "+n+" L"+(r+10)+" "+(n+6)+" Z",t.x=t.x+20;break;case 1:i="M"+r+" "+n+" L"+(r-6)+" "+(n-10)+" L"+r+" "+(n-20)+" L"+(r+6)+" "+(n-10)+" Z",t.y=t.y-20}return i},e}(n.Association);e.Aggregate=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getSVG=function(){var e=t.prototype.getSVG.call(this);return this.$diamond.setAttributeNS(null,"fill","white"),e},e}(n.Aggregate);e.Aggregation=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getSVG=function(){var e=t.prototype.getSVG.call(this);return this.$diamond.setAttributeNS(null,"fill","black"),e},e}(n.Aggregate);e.Composition=o},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(25),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getSVG=function(){var e=t.prototype.getSVG.call(this);return this.$pathSvg.setAttributeNS(null,"stroke-dasharray","3, 3"),e},e}(n.Generalisation);e.Implements=o},function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),r(i(26)),r(i(27)),r(i(28));var n=i(26),o=i(28),s=i(27);new n.DagreLayout,new o.DagreLayoutMin,new s.Random},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(4),s=i(5),a=i(0),l=i(3),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodes=[],e.edges=[],e}return r(e,t),e.prototype.load=function(t){if(this.$isLoading=!0,t=t||{},this.property=t.type||t.property||"classdiagram",this.id="RootElement",t.nodes)for(var e=0,i=t.nodes;e<i.length;e++){var r=i[e];this.addNode(r)}if(t.edges)for(var n=0,o=t.edges;n<o.length;n++){var s=o[n];this.addEdge(s)}this.$isLoading=!1},e.prototype.getNodeByPosition=function(t,e){for(var i=0,r=this.nodes;i<r.length;i++){var n=r[i],o=n.getPos(),s=n.getSize();if(o.x<=t&&o.x+s.x>=t&&o.y<=e&&o.y+s.y>=e)return n}return null},e.prototype.init=function(e,i,r){return t.prototype.init.call(this,e,i,r),this.initCanvas(),this},e.prototype.addElement=function(t){t=a.Util.toPascalCase(t);var e=this.getNewId(t);return!!this.createElement(t,e,{})&&(a.Util.saveToLocalStorage(this),!0)},e.prototype.addElementWithValues=function(t,e){t=a.Util.toPascalCase(t);var i=this.getNewId(t),r=this.createElement(t,i,{});if(e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")){var n=e.x,o=e.y;r.withPos(n,o)}return a.Util.saveToLocalStorage(this),r},e.prototype.removeAllElements=function(){for(var t=this.nodes.length,e=0;e<t;e++)this.removeElement(this.nodes[0].id);this.$view.dispatchEvent(a.Util.createCustomEvent("click"))},e.prototype.removeElement=function(t){var e=this.getDiagramElementById(t);if(!e)return!1;if(this.$owner.removeElement(e),e instanceof s.Node){var i=this.nodes.indexOf(e);for(i>-1&&this.nodes.splice(i,1);e.$edges.length>0;)this.removeElement(e.$edges[0].id);e.$edges=[]}else if(e instanceof o.Association){var r=this.edges.indexOf(e);r>-1&&this.edges.splice(r,1),r=e.$sNode.$edges.indexOf(e),r>-1&&e.$sNode.$edges.splice(r,1),r=e.$tNode.$edges.indexOf(e),r>-1&&e.$tNode.$edges.splice(r,1)}return a.Util.saveToLocalStorage(this),!0},e.prototype.getSVG=function(){var t={tag:"path",id:"origin",d:"M-10 0 L10 0 M0 -10 L0 10",stroke:"#999","stroke-width":"1",fill:"none"},e=this.createShape(t),i={tag:"text",x:-10,y:0-10/1.5,"text-anchor":"end","font-family":"Verdana","font-size":"9",fill:"#999"},r=this.createShape(i);r.textContent="(0, 0)";var n=this.createShape({tag:"g"});return n.appendChild(e),n.appendChild(r),n},e.prototype.getEvents=function(){return[l.EventBus.ELEMENTMOUSEDOWN,l.EventBus.ELEMENTMOUSEUP,l.EventBus.ELEMENTMOUSELEAVE,l.EventBus.ELEMENTMOUSEMOVE,l.EventBus.ELEMENTMOUSEWHEEL,l.EventBus.ELEMENTCLICK,l.EventBus.ELEMENTDRAG]},e.prototype.getNewId=function(t){return(t?t.toLowerCase()+"-":"")+Math.floor(1e5*Math.random())},e.prototype.getEdgeById=function(t){for(var e=0,i=this.edges;e<i.length;e++){var r=i[e];if(r.id===t)return r}},e.prototype.getDiagramElementById=function(t){return this.getNodeById(t)||this.getEdgeById(t)},e.prototype.addEdge=function(t,e){if(t&&t.type){var i=this.$owner,r=!1;for(var n in i.edgeFactory)if(n===t.type){r=!0;break}r||(t.type="Association")}var o=t.type||"Association";o=a.Util.toPascalCase(o);var s=this.getNewId(o),l=this.createElement(o,s,t);l.type=o;var h,d=t.source.id||t.source;d&&((h=this.getNodeByLabel(d))||(h=this.createElement("Clazz",this.getNewId("Clazz"),{name:t.source}),h.init(this)));var p,c=t.target.id||t.target;if(c&&((p=this.getNodeByLabel(c))||(p=this.createElement("Clazz",this.getNewId("Clazz"),{name:t.target}),p.init(this))),l.withItem(h,p),e){var u=h.getPos().x+h.getSize().x/2,f=h.getPos().y+h.getSize().y/2,g=p.getPos().x+p.getSize().x/2,v=p.getPos().y+p.getSize().y/2;l.addPoint(u,f),l.addPoint(g,v)}return a.Util.saveToLocalStorage(this),l},e.prototype.createElement=function(t,e,i){var r,n=this.$owner;return n.nodeFactory[t]&&(r=new n.nodeFactory[t](i),a.Util.initControl(this,r,t,e,i),this.nodes.push(r)),n.edgeFactory[t]&&(r=new n.edgeFactory[t](i),a.Util.initControl(this,r,t,e,i),this.edges.push(r)),r},e.prototype.initCanvas=function(){var t=this.$owner;t.canvasSize={width:t.$view.clientWidth,height:t.$view.clientHeight},t.root=a.Util.createShape({tag:"svg",id:"root",width:t.canvasSize.width,height:t.canvasSize.height}),this.$view=t.root,t.$view.appendChild(t.root);"onwheel"in document.createElement("div")||document.onmousewheel;l.EventBus.register(this,this.$view)},e.prototype.addNode=function(t){var e=t.type||t.property||"Node";e=a.Util.toPascalCase(e);var i=t.name||this.getNewId(e);return this.createElement(e,i,t)},e.prototype.getNodeById=function(t){for(var e=0,i=this.nodes;e<i.length;e++){var r=i[e];if(r.id===t)return r}},e.prototype.getNodeByLabel=function(t){for(var e=0,i=this.nodes;e<i.length;e++){var r=i[e];if(r.label===t)return r}},e}(n.DiagramElement);e.GraphModel=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={abstract:'<svg width="100%" height="100%" viewbox="0 0 550 450"><g><rect width="500" height="400" x="25" y="25" rx="5" ry="5" stroke-width="10" stroke="black" fill="none"/><rect width="500" height="125" x="25" y="180" stroke-width="7" stroke="black" fill="none"/><text x="275" y="140" text-anchor="middle" font-size="111">Abstract</text><text x="50" y="240" font-size="50">+ field: type</text><text x="50" y="360" font-size="50">+ method(type)</text></g></svg>',clazz:'<svg width="100%" height="100%" viewbox="0 0 550 450"><g><rect width="500" height="400" x="25" y="25" rx="5" ry="5" stroke-width="10" stroke="black" fill="none"/><rect width="500" height="125" x="25" y="180" stroke-width="7" stroke="black" fill="none"/><text x="275" y="140" text-anchor="middle" font-size="111">Class</text><text x="50" y="240" font-size="50">+ field: type</text><text x="50" y="360" font-size="50">+ method(type)</text></g></svg>',interface:'<svg width="100%" height="100%" viewbox="0 0 550 450"><g><rect width="500" height="400" x="25" y="25" rx="5" ry="5" stroke-width="10" stroke="black" fill="none"/><rect width="500" height="125" x="25" y="180" stroke-width="7" stroke="black" fill="none"/><text x="275" y="140" text-anchor="middle" font-size="111">Interface</text><text x="50" y="240" font-size="50">+ field: type</text><text x="50" y="360" font-size="50">+ method(type)</text></g></svg>'},n=function(){function t(t){this.graph=t;var e=document.createElement("div");e.className="palette",e.id="palette",document.body.appendChild(e),this.palette=e,this.addButtons()}return t.prototype.addButtons=function(){var t=this,e=this;for(var i in r)!function(i){var n=document.createElement("button");n.className="add"+i+"Btn",n.innerHTML=r[i],n.onclick=function(e){var r=t.graph.getNextFreePosition(),n=t.graph.addElementWithValues(i,{x:r.x,y:r.y},!1);t.graph.drawElement(n)},e.palette.appendChild(n)}(i)},t}();e.default=n},function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),r(i(53)),r(i(54)),r(i(55)),r(i(56)),r(i(30)),r(i(57)),r(i(58))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),n=i(1),o=i(5),s=i(0),a=function(){function t(t){this.dragging=!1,this.reinsert=!1,this.mouseOffset=new n.Point,this.graph=t}return t.prototype.handle=function(t,e){if(!this.canHandle())return!0;switch(t.type){case"mousedown":this.dragging||"RootElement"===e.id||(this.element=e,this.svgElement=e.$view,this.start(t,e),this.setActive(!0));break;case"mouseup":this.dragging&&this.reset(),this.setActive(!1);break;case"mousemove":this.dragging&&this.drag(t,e);break;case"mouseleave":this.dragging&&this.reset(),this.setActive(!1)}return!0},t.prototype.canHandle=function(){return r.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.setActive=function(e){e?r.EventBus.setActiveHandler(t.name):r.EventBus.releaseActiveHandler()},t.prototype.reset=function(){if(this.dragging=!1,this.svgElement.style.cursor="pointer",s.Util.isChrome()){var t=s.Util.createCustomEvent("click");this.svgElement.dispatchEvent(t)}},t.prototype.start=function(t,e){this.dragging=!0,this.mouseOffset.x=t.clientX,this.mouseOffset.y=t.clientY,this.reinsert=!0,this.svgElement.style.cursor="move"},t.prototype.drag=function(t,e){if(this.reinsert){"RootElement"!==this.element.id&&this.graph.root.appendChild(this.svgElement);var i=s.Util.createCustomEvent("drag");e.$view.dispatchEvent(i)}this.reinsert=!1,t.stopPropagation();var r=this.svgElement.getAttributeNS(null,"transform").slice(10,-1).split(" "),n=parseInt(r[0]),a=0;r.length>1&&(a=parseInt(r[1]));var l=n+t.clientX-this.mouseOffset.x,h=a+t.clientY-this.mouseOffset.y;this.svgElement.setAttributeNS(null,"transform","translate("+l+" "+h+")"),this.element.getPos().addNum(l-n,h-a),this.element instanceof o.Node&&this.element.redrawEdges(),this.mouseOffset.x=t.clientX,this.mouseOffset.y=t.clientY;var d=this.element.getPos().x+this.element.getSize().x,p=this.element.getPos().y+this.element.getSize().y,c=this.graph.root.getBoundingClientRect();c&&(d>c.width&&this.graph.root.setAttributeNS(null,"width",""+d),p>c.height&&this.graph.root.setAttributeNS(null,"height",""+p))},t}();e.Drag=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),n=i(4),o=i(0),s=i(21),a=i(3),l=i(8),h=function(){function t(t){this.padding=5,this.graph=t,this.deleteShape=s.SymbolLibary.drawSVG({type:"Basket",background:!0,id:"trashcan",tooltip:"Delete class"}),this.copyNodeShape=s.SymbolLibary.drawSVG({type:"Copynode",background:!0,id:"copyNode",tooltip:"Copy class"}),this.addEdgeShape=s.SymbolLibary.drawSVG({type:"Edgeicon",background:!0,id:"addEdge",tooltip:"Click and drag to connect this class"})}return t.prototype.handle=function(t,e){var i=this,s=o.Util.getEventX(t),h=o.Util.getEventY(t);if(t.stopPropagation(),"drag"===t.type&&(this.isDragged=!0,this.deleteShape.setAttributeNS(null,"visibility","hidden"),this.addEdgeShape.setAttributeNS(null,"visibility","hidden"),this.copyNodeShape.setAttributeNS(null,"visibility","hidden"),this.resetLastSelectedElements(),e instanceof r.Node&&(this.lastSelectedNode=e.$view),o.Util.addClass(this.lastSelectedNode,"SVGClazz-selected")),"background"===t.target.id||e===this.graph.$graphModel)return this.resetLastSelectedElements(),this.deleteShape.setAttributeNS(null,"visibility","hidden"),this.addEdgeShape.setAttributeNS(null,"visibility","hidden"),this.copyNodeShape.setAttributeNS(null,"visibility","hidden"),!0;if(e instanceof r.Node&&"click"===t.type){var d=e;this.graph.root.appendChild(this.deleteShape),this.graph.root.appendChild(this.addEdgeShape),this.graph.root.appendChild(this.copyNodeShape),this.graph.root.appendChild(e.$view),this.deleteShape.setAttributeNS(null,"visibility","visible"),this.addEdgeShape.setAttributeNS(null,"visibility","visible"),this.copyNodeShape.setAttributeNS(null,"visibility","visible");var p=d.getPos().x+d.getSize().x+5,c=d.getPos().y;this.deleteShape.setAttributeNS(null,"transform","translate("+p+" "+(c+this.padding)+")"),this.deleteShape.onclick=function(t){return i.graph.$graphModel.removeElement(e.id)},this.copyNodeShape.setAttributeNS(null,"transform","translate("+p+" "+(c+40+this.padding)+")"),this.copyNodeShape.onclick=function(t){var r=i.graph.getNextFreePosition(),n=e.copy();n.withPos(r.x,r.y),i.graph.drawElement(n)},this.addEdgeShape.setAttributeNS(null,"transform","translate("+p+" "+(c+80+this.padding)+")"),this.addEdgeShape.onmousedown=function(){a.EventBus.setActiveHandler("NewEdge"),e.$view.dispatchEvent(o.Util.createCustomEvent("mousedown"))}}if(e instanceof l.Clazz&&"click"===t.type){var u=e;if(o.Util.isChrome()&&this.lastSelectedNode&&e.id===this.lastSelectedNode.id&&!this.isDragged)return!0;this.isDragged=!1,this.resetLastSelectedElements(),this.lastSelectedNode=e.$view,o.Util.addClass(this.lastSelectedNode,"SVGClazz-selected"),this.setTooltipOfShape(this.deleteShape,"Delete class");var f=document.createElement("div");f.id="inlineEdit",f.style.position="absolute",f.style.top=u.getPos().y+u.getSize().y+52+"px",f.style.left=u.getPos().x+"px",f.style.width=u.getSize().x+"px",f.style.zIndex="42";var g=document.createElement("input");g.type="text",g.style.width="100%",g.placeholder="Add properties, edit label",f.appendChild(g),document.body.appendChild(f),g.addEventListener("focusout",function(t){if(o.Util.isChrome())return void(g.value&&0!==g.value.length||i.lastSelectedNode&&e.id==i.lastSelectedNode.id||i.removeLastInlineEdit());g.value&&0!==g.value.length||i.removeLastInlineEdit()});var v=(this.graph,["boolean","byte","char","double","float","int","long","short","String","void"]);return g.addEventListener("keydown",function(t){var e=t.which,i=g.value;if(o.Util.endsWith(i,":")&&!document.getElementById("selectPropertyType")){var r=document.createElement("select");r.id="selectPropertyType",r.style.width="100%";for(var n=0,s=v;n<s.length;n++){var a=s[n],l=document.createElement("option");l.value=a,l.innerHTML=a,r.appendChild(l)}r.addEventListener("change",function(t){var e=i.split(":"),n=r.options[r.selectedIndex].value;e.length>=1&&(g.value=e[0].trim()+" : "+n,g.focus())}),f.appendChild(r)}else if(!o.Util.includes(i,":")){var h=document.getElementById("selectPropertyType");h&&h.remove()}if(13===e){!o.Util.includes(i,":")||o.Util.includes(i,"(")&&o.Util.includes(i,")")?o.Util.includes(i,"(")&&o.Util.includes(i,")")?(u.addMethod(i.trim()),u.reDraw()):1===i.trim().split(" ").length&&i.trim().length>0&&u.updateLabel(i.trim()):(u.addAttribute(i.trim()),u.reDraw()),f.style.top=u.getPos().y+u.getSize().y+52+"px",f.style.left=u.getPos().x+"px",f.style.width=u.getSize().x+"px",g.value="";var d=document.getElementById("selectPropertyType");d&&d.remove()}}),f.children[0].focus(),!0}if(e instanceof n.Association){this.graph.root.appendChild(e.$view),this.graph.root.appendChild(e.$sNode.$view),this.graph.root.appendChild(e.$tNode.$view),this.graph.root.appendChild(this.deleteShape),this.setTooltipOfShape(this.deleteShape,"Delete edge"),this.deleteShape.setAttributeNS(null,"visibility","visible"),this.addEdgeShape.setAttributeNS(null,"visibility","hidden"),this.copyNodeShape.setAttributeNS(null,"visibility","hidden"),this.deleteShape.setAttributeNS(null,"transform","translate("+s+" "+h+")"),this.deleteShape.onclick=function(t){return i.graph.$graphModel.removeElement(e.id)},this.resetLastSelectedElements();var y=e;this.lastSelectedEdge=y.$view,o.Util.addClass(this.lastSelectedEdge,"SVGEdge-selected")}return!0},t.prototype.setTooltipOfShape=function(t,e){if(t&&t.hasChildNodes()){var i=t.childNodes[0];i&&"title"===i.tagName&&(i.textContent=e)}},t.prototype.resetLastSelectedElements=function(){this.lastSelectedNode&&(o.Util.removeClass(this.lastSelectedNode,"SVGClazz-selected"),this.lastSelectedNode=void 0),this.lastSelectedEdge&&(o.Util.removeClass(this.lastSelectedEdge,"SVGEdge-selected"),this.lastSelectedEdge=void 0),this.removeLastInlineEdit()},t.prototype.removeLastInlineEdit=function(){var t=document.getElementById("inlineEdit");t&&document.body.removeChild(t)},t.prototype.canHandle=function(){return a.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.setActive=function(e){e?a.EventBus.setActiveHandler(t.name):a.EventBus.releaseActiveHandler()},t}();e.Select=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),n=function(){function t(t){}return t.prototype.handle=function(t,e){var i=t.deltaY||t.wheelDeltaY||-t.wheelDelta,r=1+i/1e3,n=this.graph.root.getAttribute("viewBox").split(" "),o=n[0]+" "+n[1]+" "+parseInt(n[2])*r+" "+parseInt(n[3])*r;return this.graph.root.setAttribute("viewBox",o),t.preventDefault(),!0},t.prototype.canHandle=function(){return r.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.setActive=function(e){e?r.EventBus.setActiveHandler(t.name):r.EventBus.releaseActiveHandler()},t}();e.Zoom=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=i(3),o=i(5),s=function(){function t(t){this.graph=t}return t.prototype.setActive=function(e){e?n.EventBus.setActiveHandler(t.name):n.EventBus.releaseActiveHandler()},t.prototype.canHandle=function(){return n.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.handle=function(t,e){if(!t.ctrlKey&&!n.EventBus.isHandlerActiveOrFree("NewEdge",!0))return this.removeLine(),!0;switch(t.type){case"mousedown":e instanceof o.Node&&(this.start(t,e),this.setActive(!0));break;case"mousemove":this.drawEdge(t,e);break;case"mouseleave":this.setActive(!1);break;case"mouseup":this.setNewEdgeToNode(t),this.setActive(!1)}return!0},t.prototype.drawEdge=function(t,e){if(this.isEdgeDrawing){var i=r.Util.getEventX(t),n=r.Util.getEventY(t),o="M"+this.x+" "+this.y+" L"+i+" "+n;if(this.svgLine){this.svgLine.setAttributeNS(null,"d",o);var s=this.graph.$graphModel.getNodeByPosition(r.Util.getEventX(t),r.Util.getEventY(t));s?(this.lastTargetNode&&this.lastTargetNode.id!==s.id&&this.lastTargetNode.$view.setAttributeNS(null,"class","SVGClazz"),this.lastTargetNode=s,this.lastTargetNode.$view.setAttributeNS(null,"class","SVGClazz-drawedge")):this.lastTargetNode&&this.lastTargetNode.$view.setAttributeNS(null,"class","SVGClazz")}else{var a={tag:"path",id:"newEdgePath",d:o,class:"SVGEdge"},l=r.Util.createShape(a);this.svgLine=l,this.graph.root.appendChild(l),this.graph.root.appendChild(this.sourceNode.$view)}}},t.prototype.removeLine=function(){this.isEdgeDrawing=!1,this.svgLine&&(this.graph.root.removeChild(this.svgLine),this.svgLine=null),this.lastTargetNode&&this.lastTargetNode.$view.setAttributeNS(null,"class","SVGClazz")},t.prototype.setNewEdgeToNode=function(t){var e=this.graph.$graphModel.getNodeByPosition(r.Util.getEventX(t),r.Util.getEventY(t));if(!e)return void this.removeLine();this.removeLine();var i=this.sourceNode.$defaulEdgeType||"Association",n={type:i,source:this.sourceNode.label,target:e.label},o=this.graph.$graphModel.addEdge(n,!0);this.graph.drawElement(o)},t.prototype.start=function(t,e){if(!this.isEdgeDrawing){this.isEdgeDrawing=!0,this.sourceNode=e,this.x=this.sourceNode.getPos().x+this.sourceNode.getSize().x/2,this.y=this.sourceNode.getPos().y+this.sourceNode.getSize().y/2;var i=document.getElementById("inlineEdit");i&&document.body.removeChild(i)}},t}();e.NewEdge=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),n=i(0),o=function(){function t(t){this.MIN_SIZE_TO_ADD_NODE=30,this.MIN_SIZE_TO_ADD_TEXT=10,this.graph=t}return t.prototype.canHandle=function(){return r.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.setActive=function(e){e?r.EventBus.setActiveHandler(t.name):r.EventBus.releaseActiveHandler()},t.prototype.handle=function(t,e){if(!this.canHandle())return!0;if("RootElement"!==e.id)return!1;switch(t.type){case"mousedown":"RootElement"===e.id&&(this.start(t,e),this.setActive(!0));break;case"mousemove":this.drawRect(t,e);break;case"mouseleave":this.removeRect(),this.setActive(!1);break;case"mouseup":this.addNode(),this.setActive(!1)}return!0},t.prototype.drawRect=function(t,e){if(this.isRectDrawing){t.stopPropagation();var i=n.Util.getEventX(t)-this.x,r=n.Util.getEventY(t)-this.y;if(i<0?(this.isDrawToLeft=!0,i*=-1):this.isDrawToLeft=!1,r<0?(this.isDrawToTop=!0,r*=-1):this.isDrawToTop=!1,i>this.MIN_SIZE_TO_ADD_NODE&&r>this.MIN_SIZE_TO_ADD_NODE?this.isBigEnoughForAddNode=!0:this.isBigEnoughForAddNode=!1,this.graph.root.style.cursor="pointer",this.svgRect){var o=this.svgRect.getBBox();if((o.width>this.MIN_SIZE_TO_ADD_TEXT||o.height>this.MIN_SIZE_TO_ADD_TEXT)&&!this.svgTextAddNode){var s=n.Util.createShape({tag:"text",x:this.x,y:this.y-5,"font-family":"Verdana","font-size":12,fill:"black"});s.textContent="Hold on and move to create a new class",this.svgGroupAddNode.appendChild(s);var a=s.getBoundingClientRect(),l=n.Util.createShape({tag:"rect",x:this.x,y:this.y-a.height,width:a.width,height:a.height,fill:"#DDD","stroke-width":0});this.svgTextRectAddNode=l,this.svgTextAddNode=s,this.svgGroupAddNode.appendChild(l),this.svgGroupAddNode.appendChild(s)}this.isDrawToLeft&&this.svgRect.setAttributeNS(null,"x",""+n.Util.getEventX(t)),this.isDrawToTop&&this.svgRect.setAttributeNS(null,"y",""+n.Util.getEventY(t)),this.svgRect.setAttributeNS(null,"width",i.toString()),this.svgRect.setAttributeNS(null,"height",r.toString()),this.isBigEnoughForAddNode?this.svgRect.setAttributeNS(null,"class","SVGAddNode-ready"):this.svgRect.setAttributeNS(null,"class","SVGAddNode")}else{var h=n.Util.createShape({tag:"rect",id:"addNodeRect",x:this.x,y:this.y,width:1,height:1,class:"SVGAddNode"}),d=n.Util.createShape({tag:"g",id:"groupAddNode"});d.appendChild(h),this.graph.root.appendChild(d),this.svgRect=h,this.svgGroupAddNode=d}}},t.prototype.removeRect=function(){this.isRectDrawing=!1,this.isBigEnoughForAddNode=!1,this.graph.root.style.cursor="default",this.svgGroupAddNode&&(this.graph.root.removeChild(this.svgGroupAddNode),this.svgGroupAddNode=void 0),this.svgRect&&(this.svgRect=void 0),this.svgTextAddNode&&(this.svgTextAddNode=void 0),this.svgTextRectAddNode&&(this.svgTextRectAddNode=void 0)},t.prototype.addNode=function(){if(!this.isBigEnoughForAddNode)return void this.removeRect();this.removeRect();var t=this.graph.addElementWithValues("Clazz",{x:this.x,y:this.y});this.graph.drawElement(t)},t.prototype.start=function(t,e){this.isRectDrawing||(this.isRectDrawing=!0,this.x=n.Util.getEventX(t),this.y=n.Util.getEventY(t))},t}();e.AddNode=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),n=i(29),o=i(8),s=i(17),a=function(){function t(t){this._blankView=new n.PropertiesPanel.BlankView(t),this._graph=t}return t.prototype.dispatch=function(t){var e=this.createView(t);this._blankView.show(e)},t.prototype.getCurrentView=function(){return this._blankView.getCurrentView()},t.prototype.openProperties=function(){this._blankView.openProperties()},t.prototype.handle=function(t,e){return this.handleOpenProperties(t,e),t.type===r.EventBus.RELOADPROPERTIES&&this._selectedElement&&e.id===this._selectedElement.id&&(this.handleSelectNodeEvent(t,e),this.handleSelectEdgeEvent(t,e)),!(!this._selectedElement||this._selectedElement.id!==e.id)||("RootElement"===e.id&&(this.dispatch(n.PropertiesPanel.PropertiesView.Clear),this.setPropertiesHeaderText("Select any element to see its properties")),this._selectedElement=e,this.handleSelectNodeEvent(t,e),this.handleSelectEdgeEvent(t,e),!0)},t.prototype.setPropertiesHeaderText=function(t){this._blankView.setPropertiesHeaderText(t)},t.prototype.canHandle=function(){return r.EventBus.isHandlerActiveOrFree(t.name)},t.prototype.setActive=function(e){e?r.EventBus.setActiveHandler(t.name):r.EventBus.releaseActiveHandler()},t.prototype.createView=function(t){var e;return t===n.PropertiesPanel.PropertiesView.Clazz&&(e=new n.PropertiesPanel.ClassPanel),t===n.PropertiesPanel.PropertiesView.Clear&&(e=new n.PropertiesPanel.ClearPanel),t===n.PropertiesPanel.PropertiesView.Edge&&(e=new n.PropertiesPanel.EdgePanel),e.init(),e},t.prototype.handleOpenProperties=function(t,e){"dblclick"===t.type&&(t.stopPropagation(),this.openProperties())},t.prototype.handleSelectEdgeEvent=function(t,e){if(!(e instanceof o.Association))return!1;var i=e;this.dispatch(n.PropertiesPanel.PropertiesView.Edge),this._blankView.setPropertiesHeaderText("Properties of Edge: "+i.$sNode.label+"---"+i.$tNode.label);var r=this._graph,s=document.getElementById("edgeTypeSelect");s.value=i.type,s.addEventListener("change",function(){var t=s.options[s.selectedIndex].value,e=i.convertEdge(t,r.$graphModel.getNewId(t),!0);i=e}),document.getElementById("edgeLabelInput").setAttribute("value",i.$sNode.label+" -> "+i.$tNode.label),document.getElementById("edgeSrcInput").setAttribute("value",i.$sNode.label);var a=document.getElementById("edgeSrcProperty");a.addEventListener("input",function(t){i.updateSrcProperty(a.value)});var l=document.getElementById("inputEdgeSrcCardinality");l.addEventListener("input",function(t){i.updateSrcCardinality(l.value)}),i.sourceInfo&&(a.setAttribute("value",i.sourceInfo.property),l.setAttribute("value",i.sourceInfo.cardinality));var h=document.getElementById("edgeTargetProperty");h.addEventListener("input",function(t){i.updateTargetProperty(h.value)});var d=document.getElementById("inputEdgeTargetCardinality");return d.addEventListener("input",function(t){i.updateTargetCardinality(d.value)}),i.targetInfo&&(h.setAttribute("value",i.targetInfo.property),d.setAttribute("value",i.targetInfo.cardinality)),document.getElementById("edgeTargetInput").setAttribute("value",i.$tNode.label),!0},t.prototype.handleSelectNodeEvent=function(t,e){if(!(e instanceof s.Clazz))return!1;var i=this,r=(this._graph,e);this.dispatch(n.PropertiesPanel.PropertiesView.Clazz),this._blankView.setPropertiesHeaderText("Properties of Class: "+r.label);var o=document.getElementById("className");o.setAttribute("value",r.label),o.addEventListener("input",function(){r.updateLabel(o.value)});var a=document.getElementById("classModifier");a.setAttribute("value",r.label),a.addEventListener("change",function(){r.updateModifier(a.value)});for(var l=document.getElementById("clazzattribute"),h=document.getElementById("clazzattributeAdd");l.firstChild;)l.removeChild(l.firstChild);for(var d=r.getAttributes(),p=0,c=d;p<c.length;p++){var u=c[p],f=this.createDivEditProperty(r,u,"attribute",l);l.appendChild(f)}l.appendChild(h),document.getElementById("clazzattributeBtnAddattribute").addEventListener("click",function(){var t=document.getElementById("clazzattributeAddModifier"),e=document.getElementById("clazzattributeAddName"),n=document.getElementById("clazzattributeAddType");if(e.value&&0!=e.value.length){var o=t.value+" "+e.value+" : "+n.value,s=r.addAttribute(o),a=i.createDivEditProperty(r,s,"attribute",l);t.value="+",e.value="",n.value="",l.insertBefore(a,h),r.reDraw()}});for(var g=document.getElementById("clazzmethod"),v=document.getElementById("clazzmethodAdd");g.firstChild;)g.removeChild(g.firstChild);for(var y=r.getMethods(),m=0,w=y;m<w.length;m++){var E=w[m],b=this.createDivEditProperty(r,E,"method",g);g.appendChild(b)}return g.appendChild(v),document.getElementById("clazzmethodBtnAddmethod").addEventListener("click",function(){var t=document.getElementById("clazzmethodAddModifier"),e=document.getElementById("clazzmethodAddName"),n=document.getElementById("clazzmethodAddType");if(e.value&&0!=e.value.length){var o=t.value+" "+e.value+" : "+n.value,s=r.addMethod(o),a=i.createDivEditProperty(r,s,"method",g);t.value="+",e.value="",n.value="",g.insertBefore(a,v),r.reDraw()}}),!0},t.prototype.createDivEditProperty=function(t,e,i,r){var n=document.createElement("div");n.style.marginTop="5px";var o=document.createElement("select"),s={};s.public="+",s.private="-",s.protected="#",s.package="~";for(var a in s){var l=document.createElement("option");l.value=s[a],l.innerHTML=s[a],l.title=a,o.appendChild(l)}o.value=e.modifier,o.addEventListener("input",function(){e.updateModifier(o.options[o.selectedIndex].value)});var h=document.createElement("input");h.style.marginLeft="5px",h.style.marginRight="5px",h.type="text",h.value=e.name,h.addEventListener("input",function(){e.updateName(h.value),t.reDraw(!0)});var d=document.getElementById("dataTypes"),p=document.createElement("input");d&&p.setAttribute("list",d.id),p.value=e.type,p.addEventListener("input",function(){e.updateType(p.value),t.reDraw(!0)});var c=document.createElement("button");return c.innerHTML="X",c.title="Delete "+i,c.style.marginLeft="5px",c.style.color="red",c.addEventListener("click",function(){t.removeProperty(e),r.removeChild(n),t.reDraw()}),n.appendChild(o),n.appendChild(h),n.appendChild(p),n.appendChild(c),n},t}();e.PropertiesDispatcher=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.graph=t}return t.prototype.show=function(){var t=this;if(!this.mainDiv){this.mainDiv=document.createElement("div"),this.mainDiv.className="toolbar";var e=document.createElement("h1");e.className="logo",e.textContent="DiagramJS";var i=document.createElement("button");i.id="layoutBtn",i.style.marginLeft="195px",i.style.marginTop="12px",i.textContent="Auto Layout",i.onclick=function(){t.graph.layout()},this.mainDiv.appendChild(e),this.mainDiv.appendChild(i);var r=document.createElement("button");r.id="btnDeleteAll",r.textContent="Delete All",r.title="Delete all nodes from diagram",r.style.marginLeft="20px",r.style.marginTop="12px",r.onclick=function(){confirm("All classes will be deleted!")&&t.graph.$graphModel.removeAllElements()},this.mainDiv.appendChild(r);var n=document.createElement("div");n.style.display="inline",n.style.marginLeft="20px";var o=document.createElement("input");o.id="inputWorkspace",o.type="text",o.placeholder="Type your workspace for generated code...",o.style.marginRight="5px",o.style.width="260px";var s=document.createElement("button");s.textContent="Generate",s.title="Generate code into your workspace",s.onclick=function(){var e=o.value;if(0===e.length)return alert("No workspace set.\nEnter first your workspace"),void o.focus();t.graph.generate(e)},n.appendChild(o),n.appendChild(s),this.mainDiv.appendChild(n);var a=document.createElement("div");a.style.display="inline",a.style.marginLeft="20px";var l=["Export","HTML","JSON","PDF","PNG","SVG"],h=document.createElement("select");l.forEach(function(t){var e=document.createElement("option");e.value=t,e.textContent=t,h.appendChild(e)}),h.onchange=function(e){var i=h.options[h.selectedIndex].value;h.selectedIndex=0,t.graph.saveAs(i)},a.appendChild(h),this.mainDiv.appendChild(a),document.body.appendChild(this.mainDiv)}},t}();e.Toolbar=r},function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(7);!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.property="Clazz",e}return r(e,t),e.prototype.getName=function(){return this.prop[e.NAME]},e.prototype.setName=function(t){this.setValue(e.NAME,t)},e.prototype.getAttributes=function(){return this.prop[e.ATTRIBUTES]},e.prototype.addToAttributes=function(t){this.addTo(e.ATTRIBUTES,t)},e.prototype.removeFromAttributes=function(t){this.removeFrom(e.ATTRIBUTES,t)},e.NAME="name",e.ATTRIBUTES="attributes",e.METHODS="methods",e}(o.default);t.Clazz=e;var i=function(t){function i(){var e=t.call(this)||this;return e.property="Attribute",e}return r(i,t),i.prototype.getName=function(){return this.prop[e.NAME]},i.prototype.setName=function(t){this.setValue(e.NAME,t)},i}(o.default);t.Attribute=i;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.default);t.Methods=n}(n=e.UML||(e.UML={})),window.UML=n}]);